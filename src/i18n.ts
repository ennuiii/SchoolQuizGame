export interface TranslationMap {
  [key: string]: string | {
    [key: string]: string | {
      [key: string]: string
    }
  };
}

const howToPlayList_en = [
  'Gamemasters create rooms and set questions',
  'Players join with a room code and answer on a digital greenboard',
  'Each player has 3 lives - run out and you\'re eliminated!',
  'Gamemasters decide if answers are correct',
  'Last player standing wins!'
];
const howToPlayList_de = [
  'Spielleiter erstellen Räume und legen Fragen fest',
  'Spieler treten mit einem Raumcode bei und antworten auf einer digitalen Tafel',
  'Jeder Spieler hat 3 Leben – sind sie aufgebraucht, scheiden Sie aus!',
  'Spielleiter entscheiden, ob Antworten korrekt sind',
  'Der letzte verbleibende Spieler gewinnt!'
];
const howToPlayList_fr = [
  'Les maîtres du jeu créent des salles et posent des questions',
  'Les joueurs rejoignent avec un code de salle et répondent sur un tableau vert numérique',
  'Chaque joueur a 3 vies - si vous les épuisez, vous êtes éliminé !',
  'Les maîtres du jeu décident si les réponses sont correctes',
  'Le dernier joueur restant gagne !'
];
const howToPlayList_nl = [
  'Spelleiders maken kamers aan en stellen vragen in',
  'Spelers doen mee met een kamercode en antwoorden op een digitaal krijtbord',
  'Elke speler heeft 3 levens - als je ze opgebruikt, ben je geëlimineerd!',
  'Spelleiders beslissen of antwoorden correct zijn',
  'De laatst overgebleven speler wint!'
];
const howToPlayList_pl = [
  'Mistrzowie gry tworzą pokoje i ustalają pytania',
  'Gracze dołączają za pomocą kodu pokoju i odpowiadają na cyfrowej tablicy',
  'Każdy gracz ma 3 życia - jeśli je stracisz, odpadasz z gry!',
  'Mistrzowie gry decydują, czy odpowiedzi są poprawne',
  'Ostatni pozostały gracz wygrywa!'
];
const howToPlayList_zh = [
  '游戏管理员创建房间并设置问题',
  '玩家使用房间代码加入并通过数字绿板作答',
  '每位玩家有3条生命——耗尽即被淘汰！',
  '游戏管理员判定答案是否正确',
  '最后剩下的玩家获胜！'
];

const translations: { [lang: string]: TranslationMap } = {
  en: {
    settings: 'Settings',
    audio: 'Audio',
    language: 'Language',
    english: 'English',
    german: 'German',
    french: 'French',
    dutch: 'Dutch',
    polish: 'Polish',
    chinese: 'Chinese',
    muteMusic: 'Mute Music',
    unmuteMusic: 'Unmute Music',
    musicVolume: 'Music Volume',
    camera: 'Camera',
    cameras: 'Cameras',
    cameraOff: 'Camera Off',
    noCameraSelected: 'No camera selected',
    unknownCamera: 'Unknown camera',
    noMicrophoneSelected: 'No microphone selected',
    unknownMicrophone: 'Unknown microphone',
    microphone: 'Microphone',
    selected: 'Selected',
    disableWebcam: 'Disable Webcam',
    enableWebcam: 'Enable Webcam',
    muteMic: 'Mute Mic',
    unmuteMic: 'Unmute Mic',
    mute: 'Mute',
    unmute: 'Unmute',
    hideCamera: 'Hide Camera',
    showCamera: 'Show Camera',
    changeInSettings: 'Change in settings',
    waitingForParticipants: 'Waiting for other participants...',
    selectedEnableToStart: 'selected - enable camera to start.',
    selectCameraToStart: 'Select a camera in settings to get started.',
    gamemaster: 'GameMaster',
    player: 'Player',
    you: 'You',
    close: 'Close',
    drawingBy: 'Drawing by',
    noRoundData: 'No round data available to display or selected round is invalid.',
    round: 'Round',
    questionDetails: 'Question Details',
    submissions: 'Submissions',
    // Question Display Card
    currentQuestion: 'Current Question',
    type: 'Type',
    // Loading Spinner
    pleaseWait: 'Please wait...',
    // FabricJsonToSvg
    error: 'Error',
    invalidSvg: 'Error: Invalid SVG',
    failedToLoadJson: 'Failed to load JSON data',
    svgGenerationFailed: 'SVG generation failed',
    failedToInitializeCanvas: 'Failed to initialize temporary canvas',
    // Add more keys as needed
    roomSettings: {
      title: 'Room Settings',
      timeLimit: 'Time Limit (seconds)',
      noTimeLimit: 'No time limit',
      clear: 'Clear',
      timeLimitHelp: 'Leave empty or set to 0 for no time limit. Actual value for no limit will be 99999.',
      description: 'As the Game Master, you\'ll manage questions and evaluate answers.',
      roomCodeLabel: 'Room Code (optional):',
      roomCodePlaceholder: 'Leave blank for random code',
      roomCodeHelp: 'You can specify a custom room code or leave it blank for a random one.',
      streamerMode: 'Streamer Mode (Hide Room Code)',
      streamerModeHelp: 'When enabled, the room code will be hidden but still copyable.',
      creating: 'Creating...',
      createRoom: 'Create Room',
      communityVotingHelp: 'If enabled, the Game Master plays along and answers are evaluated by player votes.',
      pointsMode: 'Enable Points Mode',
      pointsModeHelp: 'When enabled, players earn points based on answer speed, accuracy streaks, and grade difficulty. Leaderboard and scoring features will be active.'
    },
    questionSelector: {
      title: 'Load Questions from Database',
      language: 'Language',
      subject: 'Subject',
      allSubjects: 'All Subjects',
      grade: 'Grade',
      allGrades: 'All Grades',
      searchQuestions: 'Search Questions',
      random: 'Random',
      randomQuestions: 'Number of Random Questions',
      availableQuestions: 'Available Questions',
      noQuestionsAvailable: 'No questions available. Use the filters above to search for questions.',
      selectedQuestions: 'Selected Questions',
      noQuestionsSelected: 'No questions selected yet. Add questions from the left panel.',
      sortByGrade: 'Sort by Grade',
      clearAll: 'Clear All',
      addToSelected: 'Add to selected questions',
      removeFromSelected: 'Remove from selected questions',
      selectedQuestionSummary: 'Selected Question Summary',
      totalQuestions: 'Total questions',
      gradeRange: 'Grade range',
      subjects: 'Subjects',
      noQuestionsSelectedYet: 'No questions selected yet',
      addCustomQuestion: 'Add Custom Question',
      loading: 'Loading...'
    },
    gameControls: {
      title: 'Game Controls',
      startGame: 'Start Game ({players} players, {questions} questions)',
      restarting: 'Restarting...',
      nextQuestion: 'Next Question',
      endRoundEarly: 'End Round Early',
      restartGame: 'Restart Game',
      endRoundConfirm: 'End Round Early?',
      endRoundWarning: 'Are you sure you want to end this round early? All players who haven\'t submitted will receive no points.',
      confirmEndRound: 'Yes, End Round',
      cancel: 'Cancel',
      needPlayers: 'Need at least 1 active player to start',
      needQuestions: 'Please select questions first',
      noQuestion: 'No current question',
      gameConcluded: 'Game is concluded',
      waitingForAnswers: 'Waiting for all {count} active player(s) to submit answers.',
      evaluateAnswers: 'All submitted answers must be evaluated before proceeding.',
      endGame: 'End Game',
      showRecap: 'Show Game Recap For All',
      playerBoards: 'Player Boards',
      showAll: 'Show All',
      hideAll: 'Hide All',
      startPreview: 'Start Preview Mode',
      yourBoard: 'Your Board',
      reopenVoting: 'Re-open Voting Screen',
      communityVotingMode: 'Community Voting Mode'
    },
    navigation: {
      leaveGame: 'Leave Game',
      startGame: 'Start Game',
      home: 'Home'
    },
    answerList: {
      title: 'Answers Received',
      noAnswers: 'No answers submitted for this round yet.',
      pendingEvaluation: 'Pending Evaluation',
      markAsCorrect: 'Mark as Correct',
      markAsIncorrect: 'Mark as Incorrect',
      correct: 'Correct',
      incorrect: 'Incorrect'
    },
    answerInput: {
      placeholder: 'Type your answer here...',
      submit: 'Submit Answer',
      timeRemaining: 'Time remaining',
      autoSubmit: 'Answer will be auto-submitted when time is up!',
      submitted: 'Your answer has been submitted. Wait for the Game Master to evaluate it.'
    },
    drawingBoard: {
      size: 'Size',
      brush: 'Brush',
      color: 'Color',
      whiteChalk: 'White Chalk',
      yellowChalk: 'Yellow Chalk',
      blueChalk: 'Blue Chalk',
      redChalk: 'Red Chalk',
      greenChalk: 'Green Chalk',
      pinkChalk: 'Pink Chalk',
      clearCanvas: 'Clear Canvas',
      submitted: 'Drawing submitted! You cannot make further changes.'
    },
    playerHeader: {
      player: 'Player',
      roomCode: 'Room Code',
      lives: 'Lives',
      volume: 'Volume',
      mute: 'Mute',
      unmute: 'Unmute'
    },
    questionCard: {
      title: 'Question',
      questionNumber: 'Question {current} of {total}',
      grade: 'Grade',
      subject: 'Subject',
      language: 'Language',
      answer: 'Answer'
    },
    reviewNotification: {
      correct: 'Correct!',
      incorrect: 'Incorrect!',
      correctMessage: 'Your answer was correct!',
      incorrectMessage: 'Your answer was incorrect.'
    },
    errorBoundary: {
      title: 'Something went wrong',
      tryAgain: 'Try Again'
    },
    notificationTypes: {
      success: 'Success',
      error: 'Error',
      warning: 'Warning',
      info: 'Information',
      close: 'Close'
    },
    playerBoardDisplay: {
      show: 'Show',
      hide: 'Hide'
    },
    avatarCreator: {
      title: 'Create Your Avatar',
      save: 'Save Avatar',
      cancel: 'Cancel',
      createAvatar: 'Create Avatar',
      changeAvatar: 'Change Avatar',
      avatarCreated: 'You have a custom avatar',
      faceShape: 'Face Shape',
      eyes: 'Eyes',
      mouth: 'Mouth',
      hair: 'Hair',
      accessory: 'Accessory',
      color: 'Color',
      randomize: 'Randomize',
      style: 'Style',
      seed: 'Seed',
      seedHelp: 'Different seeds create different avatars',
      backgroundColor: 'Background Color',
      flip: 'Flip Horizontally',
      rotate: 'Rotation',
      scale: 'Scale'
    },
    joinGame: {
      title: 'Join Game',
      subtitle: 'Enter the room code and your name to join the game.',
      joinAsSpectator: 'Join as Spectator',
      roomCodeLabel: 'Room Code:',
      roomCodePlaceholder: 'Enter room code',
      playerNameLabel: 'Your Name:',
      playerNamePlaceholder: 'Enter your name',
      errorMissingFields: 'Please enter both room code and player name!',
      errorNotConnected: 'Not connected to server. Please try again.',
      errorFailed: 'Failed to connect to server. Please try again.',
      processing: 'Processing...',
      connecting: 'Connecting...',
      joinGame: 'Join Game',
      backToHome: 'Back to Home',
      waitingForGM: 'Waiting for Game Master',
      joinedRoom: 'You have joined the room. Please wait for the Game Master to start the game.',
      hideLobbyCode: 'Hide Lobby Code'
    },
    home: {
      title: 'School Quiz Game',
      subtitle: 'Test your knowledge with questions from the German school system (Class 1-13)',
      howToPlay: 'How to Play',
      beGamemaster: 'Be a Gamemaster',
      joinAsPlayer: 'Join as Player',
      showAdvanced: 'Show Advanced Options',
      hideAdvanced: 'Hide Advanced Options',
      advancedOptions: 'Advanced Options',
      resetConnection: 'Reset Connection',
      resetConnectionMsg: 'Connection reset. A new Player ID has been generated for your next session.',
      resetConnectionHelp: 'Use this if you\'re having issues with connections or player identification.'
    },
    playerPage: {
      waitingForRecap: 'Waiting for the game recap to be generated...',
      gameOver: 'Game Over!',
      backToHome: 'Back to Home',
      waitingForGM: 'Waiting for Game Master to start the game',
      getReady: 'Get ready! The game will begin soon.',
      loadingPlayerView: 'Loading Player View...',
      spectatorRedirect: 'You are a spectator. You should be redirected shortly.',
      missingPlayerInfo: 'Missing player information.',
      otherPlayers: 'Other Players',
      submitAnswer: 'Submit Answer',
      answerSubmitted: 'Your answer has been submitted',
      disconnected: 'You are currently disconnected. Your inputs are disabled until reconnection.',
      clearCanvas: 'Clear Canvas',
      connectionError: 'Connection Error',
      couldNotConnect: 'Could not connect to the game server. Please refresh the page to try again.',
      refreshPage: 'Refresh Page',
      disconnectedFromServer: 'Disconnected from server.',
      attemptingReconnect: 'Attempting to reconnect...',
      waitingToJoinRoom: 'Waiting to join the room. If this persists, try refreshing the page or try reconnecting.',
      connectionIssue: 'Connection issue detected. Your player information may not be properly registered.',
      tryReconnecting: 'Try reconnecting',
      redirectingToSpectator: 'Redirecting to spectator view...',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: 'Disconnected',
      attempting: 'Attempting to reconnect...',
      connectionError: 'Connection Error',
      connectionCheckInternet: 'Please check your internet connection and try again.',
      connectionRetry: 'Retry Connection',
      tryReconnecting: 'Try reconnecting',
      redirectingToSpectator: 'Redirecting to spectator view...'
    },
    spectatorPage: {
      gameOver: 'Game Over!',
      waitingForRecap: 'Waiting for the game recap to be generated...',
      backToHome: 'Back to Home',
      spectatorView: 'Spectator View',
      players: 'Players',
      leaveGame: 'Leave Game',
      joinAsPlayer: 'Join as Player',
      joinAsPlayerInfo: 'You can only join as a player when a round is not in progress.',
      currentQuestion: 'Current Question',
      waitingForGame: 'Waiting for game to start...',
      playerBoards: 'Player Boards',
      showAll: 'Show All',
      hideAll: 'Hide All'
    },
    theme: 'Theme',
    lightMode: 'Light Mode',
    darkMode: 'Dark Mode',
    previewOverlay: {
      showAnswer: 'Show Correct Answer',
      showAnswerTitle: 'Reveal the correct answer to all players',
      voteCorrect: 'Vote Correct',
      voteIncorrect: 'Vote Incorrect',
      correctAnswerWas: 'Correct Answer Was',
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting',
      correctAnswer: 'Correct Answer Status',
      confirmCorrection: 'Confirm Correction',
      correctionConfirmation: 'Are you sure you want to change this answer status?',
      correctionDetails: 'This will:',
      correctionEffect1: 'Update the answer status',
      correctionEffect2: 'Restore or remove a life if applicable',
      correctionEffect3: 'Update the player\'s score'
    },
    // Merged keys from src/i18n/translations/en.ts
    playerManagement: {
      title: 'Player Management',
      lives: 'Lives',
      removeLife: 'Remove Life',
      addLife: 'Add Life',
      confirmRemoveLastLife: 'Remove Last Life?',
      confirmRemoveLastLifeMessage: 'Are you sure you want to remove the last life? This will make the player a spectator.'
    },
    confirmKick: 'Confirm Kick',
    kickConfirmation: 'Are you sure you want to kick {name} from the lobby?',
    yes: 'Yes',
    no: 'No',
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History',
      submissionOrder: 'Submission Order',
      timeTaken: 'Time Taken',
      submissionOrderTooltip: 'The order in which this answer was submitted',
      timeTakenTooltip: 'Time taken to submit this answer'
    },
    gameMasterQuestionHistory: {
      title: 'All Questions & Answers',
      question: 'Question',
      subject: 'Subject',
      grade: 'Grade',
      player: 'Player',
      answer: 'Answer',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions asked yet.',
      noAnswers: 'No answers for this question.',
            close: 'Close',      submissionOrder: 'Submission Order',      timeTaken: 'Time Taken',      submissionOrderTooltip: 'The order in which this answer was submitted',      timeTakenTooltip: 'Time taken to submit this answer'    },    points: {      streak: 'Streak',      multiplier: 'Multiplier',      points: 'points',      breakdown: {        title: 'Points Breakdown',        calculation: 'How Points Were Calculated',        base: 'Base Points',        gradeMultiplier: 'Grade × 100',        timeBonus: 'Time Bonus',        answeredIn: 'Answered in',        positionBonus: 'Position Bonus',        toSubmit: 'to submit',        subtotal: 'Subtotal',        streakMultiplier: 'Streak Multiplier',        streakCount: 'Streak count',        total: 'Total Points',        positionBonuses: 'Position Bonuses',        streakMultipliers: 'Streak Multipliers'      }    },    leaderboard: {      title: 'Leaderboard',      players: 'players',      you: 'you',      lives: 'Lives',      offline: 'Offline',      topScore: 'Top Score',      avgScore: 'Avg Score',      activePlayers: 'Active Players',      noPlayers: 'No players to display'    },
    recapModal: {
      title: 'Game Recap',
      overallResults: 'Overall Results',
      roundDetails: 'Round Details',
      winners: 'Winners',
      participants: 'Participants',
      drawing: 'Drawing',
      answer: 'Answer',
      eliminated: 'Eliminated',
      drawingBy: 'Drawing by',
      noRoundData: 'No round data available or selected round is invalid.',
      round: 'Round',
      questionDetails: 'Question Details',
      submissions: 'Submissions',
      currentQuestion: 'Current Question',
      type: 'Type',
      pleaseWait: 'Please wait...',
      error: 'Error',
      invalidSvg: 'Error: Invalid SVG'
    },
  },
  de: {
    settings: 'Einstellungen',
    audio: 'Audio',
    language: 'Sprache',
    english: 'Englisch',
    german: 'Deutsch',
    french: 'Französisch',
    dutch: 'Niederländisch',
    polish: 'Polnisch',
    chinese: 'Chinesisch',
    muteMusic: 'Musik stummschalten',
    unmuteMusic: 'Musik einschalten',
    musicVolume: 'Musiklautstärke',
    camera: 'Kamera',
    cameras: 'Kameras',
    cameraOff: 'Kamera aus',
    noCameraSelected: 'Keine Kamera ausgewählt',
    unknownCamera: 'Unbekannte Kamera',
    noMicrophoneSelected: 'Kein Mikrofon ausgewählt',
    unknownMicrophone: 'Unbekanntes Mikrofon',
    microphone: 'Mikrofon',
    selected: 'Ausgewählt',
    disableWebcam: 'Webcam deaktivieren',
    enableWebcam: 'Webcam aktivieren',
    muteMic: 'Mikrofon stummschalten',
    unmuteMic: 'Mikrofon aktivieren',
    mute: 'Stummschalten',
    unmute: 'Stummschaltung aufheben',
    hideCamera: 'Kamera ausblenden',
    showCamera: 'Kamera anzeigen',
    changeInSettings: 'In Einstellungen ändern',
    waitingForParticipants: 'Warten auf andere Teilnehmer...',
    selectedEnableToStart: 'ausgewählt - aktivieren Sie die Kamera, um zu starten.',
    selectCameraToStart: 'Wählen Sie eine Kamera in den Einstellungen, um zu beginnen.',
    gamemaster: 'Spielleiter',
    player: 'Spieler',
    you: 'Du',
    // Connection Status
    connectionFailed: 'Verbindung fehlgeschlagen',
    connectionError: 'Verbindungsfehler',
    connectionRetry: 'Verbindung wiederholen',
    connectionCheckInternet: 'Die Anwendung kann keine Verbindung zum Server herstellen. Bitte überprüfen Sie Ihre Internetverbindung oder versuchen Sie es später erneut.',
    connectionAttempting: 'Versuche erneut zu verbinden...',
    connectionRestored: 'Verbindung mit Sitzungswiederherstellung wiederhergestellt!',
    connectionReestablished: 'Verbindung wiederhergestellt!',
    connectionErrorUnknown: 'Unbekannter Fehler',
    connectionReconnectFailed: 'Nach mehreren Versuchen konnte keine Verbindung zum Server hergestellt werden',
    connectionConnected: 'Mit Spielserver verbunden',
    connectionConnecting: 'Verbinde mit Spielserver...',
    connectionReconnecting: 'Stelle Verbindung zum Spielserver wieder her...',
    connectionDisconnected: 'Vom Spielserver getrennt',
    connectionFailedToReconnect: 'Wiederverbindung fehlgeschlagen',
    connectionUnknownState: 'Unbekannter Verbindungsstatus',
    sessionRecovered: 'Sitzung wiederhergestellt',
    attempt: 'Versuch {number}',
    // Kicked Notification
    notificationTitle: 'Benachrichtigung',
    kickedFromRoom: 'Sie wurden aus dem Raum entfernt.',
    reason: 'Grund',
    noReasonProvided: 'Kein Grund angegeben.',
    ok: 'OK',
    // Timer
    loading: 'Laden...',
    seconds: '{seconds}s',
    // Question Card
    question: 'Frage',
    // Preview Overlay
    noQuestion: 'Keine Frage',
    grade: 'Klasse',
    class: 'Klasse',
    subject: 'Fach',
    answer: 'Antwort',
    drawingOnly: '(Nur Zeichnung)',
    markAsCorrect: 'Als richtig markieren',
    markAsIncorrect: 'Als falsch markieren',
    correct: 'Richtig',
    incorrect: 'Falsch',
    // Recap Modal
    gameRecap: 'Spielzusammenfassung',
    room: 'Raum',
    overallResults: 'Gesamtergebnisse',
    roundDetails: 'Rundendetails',
    gameSummary: 'Spielzusammenfassung',
    winner: 'Gewinner',
    congratulations: 'Glückwunsch an {name} für den Sieg!',
    gameConcluded: 'Spiel beendet',
    multiplePlayersActive: 'Das Spiel endete mit mehreren aktiven Spielern.',
    gameOver: 'Spiel vorbei',
    allPlayersEliminated: 'Alle Spieler wurden eliminiert.',
    playerStandings: 'Spielerstände',
    lives: 'Leben',
    status: 'Status',
    won: 'Gewonnen',
    active: 'Aktiv',
    eliminated: 'Eliminiert',
    unknown: 'Unbekannt',
    close: 'Schließen',
    drawingBy: 'Zeichnung von',
    noRoundData: 'Keine Rundendaten verfügbar oder ausgewählte Runde ist ungültig.',
    round: 'Runde',
    questionDetails: 'Fragendetails',
    submissions: 'Einreichungen',
    // Question Display Card
    currentQuestion: 'Aktuelle Frage',
    type: 'Typ',
    // Loading Spinner
    pleaseWait: 'Bitte warten...',
    // FabricJsonToSvg
    error: 'Fehler',
    invalidSvg: 'Fehler: Ungültiges SVG',
    failedToLoadJson: 'JSON-Daten konnten nicht geladen werden',
    svgGenerationFailed: 'SVG-Generierung fehlgeschlagen',
    failedToInitializeCanvas: 'Temporäre Leinwand konnte nicht initialisiert werden',
    // Add more keys as needed
    roomSettings: {
      title: 'Neuen Spielraum erstellen', // This was different from EN in the original, keeping it.
      timeLimit: 'Zeitlimit (Sekunden)',
      noTimeLimit: 'Kein Zeitlimit',
      clear: 'Löschen',
      timeLimitHelp: 'Leer lassen oder auf 0 setzen für kein Zeitlimit. Der tatsächliche Wert für kein Limit wird 99999 sein.',
      description: 'Als Spielleiter verwalten Sie Fragen und bewerten Antworten.',
      roomCodeLabel: 'Raumcode (optional):',
      roomCodePlaceholder: 'Leer lassen für zufälligen Code',
      roomCodeHelp: 'Sie können einen benutzerdefinierten Raumcode angeben oder leer lassen für einen zufälligen Code.',
      streamerMode: 'Streamer-Modus (Raumcode ausblenden)',
      streamerModeHelp: 'Wenn aktiviert, wird der Raumcode ausgeblendet, bleibt aber kopierbar.',
      creating: 'Wird erstellt...',
      createRoom: 'Raum erstellen',
      communityVotingHelp: 'Wenn aktiviert, spielt der Spielleiter mit und die Antworten werden durch Spielerabstimmung bewertet.',
      communityVotingMode: 'Community Voting Modus'
    },
    questionSelector: {
      title: 'Fragen aus der Datenbank laden',
      language: 'Sprache',
      subject: 'Fach',
      allSubjects: 'Alle Fächer',
      grade: 'Klasse',
      allGrades: 'Alle Klassen',
      searchQuestions: 'Fragen suchen',
      random: 'Zufällig',
      randomQuestions: 'Anzahl zufälliger Fragen',
      availableQuestions: 'Verfügbare Fragen',
      noQuestionsAvailable: 'Keine Fragen verfügbar. Verwenden Sie die Filter oben, um nach Fragen zu suchen.',
      selectedQuestions: 'Ausgewählte Fragen',
      noQuestionsSelected: 'Noch keine Fragen ausgewählt. Fügen Sie Fragen aus dem linken Bereich hinzu.',
      sortByGrade: 'Nach Klasse sortieren',
      clearAll: 'Alle löschen',
      addToSelected: 'Zu ausgewählten Fragen hinzufügen',
      removeFromSelected: 'Aus ausgewählten Fragen entfernen',
      selectedQuestionSummary: 'Zusammenfassung ausgewählter Fragen',
      totalQuestions: 'Gesamtanzahl Fragen',
      gradeRange: 'Klassenbereich',
      subjects: 'Fächer',
      noQuestionsSelectedYet: 'Noch keine Fragen ausgewählt',
      addCustomQuestion: 'Benutzerdefinierte Frage hinzufügen',
      loading: 'Laden...'
    },
    gameControls: {
      title: 'Spielsteuerung',
      startGame: 'Spiel starten ({players} Spieler, {questions} Fragen)',
      restarting: 'Neustart...',
      nextQuestion: 'Nächste Frage',
      endRoundEarly: 'Runde früh beenden',
      restartGame: 'Spiel neu starten',
      endRoundConfirm: 'Runde früh beenden?',
      endRoundWarning: 'Sind Sie sicher, dass Sie diese Runde früh beenden möchten? Alle Spieler, die noch nicht abgegeben haben, erhalten keine Punkte.',
      confirmEndRound: 'Ja, Runde beenden',
      cancel: 'Abbrechen',
      needPlayers: 'Mindestens 1 aktiver Spieler erforderlich',
      needQuestions: 'Bitte wählen Sie zuerst Fragen aus',
      noQuestion: 'Keine aktuelle Frage',
      gameConcluded: 'Spiel ist beendet',
      waitingForAnswers: 'Warten auf Antworten von {count} aktiven Spieler(n).',
      evaluateAnswers: 'Alle eingereichten Antworten müssen bewertet werden, bevor fortgefahren werden kann.',
      endGame: 'Spiel beenden',
      showRecap: 'Spielzusammenfassung für alle anzeigen',
      playerBoards: 'Spielerboards',
      showAll: 'Alle anzeigen',
      hideAll: 'Alle ausblenden',
      startPreview: 'Vorschaumodus starten',
      communityVotingMode: 'Community Voting Modus'
    },
    navigation: {
      leaveGame: 'Spiel verlassen',
      startGame: 'Spiel starten',
      home: 'Startseite'
    },
    answerList: {
      title: 'Erhaltene Antworten',
      noAnswers: 'Noch keine Antworten für diese Runde eingereicht.',
      pendingEvaluation: 'Ausstehende Bewertung',
      markAsCorrect: 'Als richtig markieren',
      markAsIncorrect: 'Als falsch markieren',
      correct: 'Richtig',
      incorrect: 'Falsch'
    },
    answerInput: {
      placeholder: 'Geben Sie hier Ihre Antwort ein...',
      submit: 'Antwort absenden',
      timeRemaining: 'Verbleibende Zeit',
      autoSubmit: 'Die Antwort wird automatisch abgesendet, wenn die Zeit abläuft!',
      submitted: 'Ihre Antwort wurde eingereicht. Warten Sie auf die Bewertung durch den Spielleiter.'
    },
    drawingBoard: {
      size: 'Größe',
      brush: 'Pinsel',
      color: 'Farbe',
      whiteChalk: 'Weißer Kreidestift',
      yellowChalk: 'Gelber Kreidestift',
      blueChalk: 'Blauer Kreidestift',
      redChalk: 'Roter Kreidestift',
      greenChalk: 'Grüner Kreidestift',
      pinkChalk: 'Rosa Kreidestift',
      clearCanvas: 'Leinwand löschen',
      submitted: 'Zeichnung eingereicht! Sie können keine weiteren Änderungen vornehmen.'
    },
    playerHeader: {
      player: 'Spieler',
      roomCode: 'Raumcode',
      lives: 'Leben',
      volume: 'Lautstärke',
      mute: 'Stummschalten',
      unmute: 'Stummschaltung aufheben'
    },
    questionCard: {
      title: 'Frage',
      questionNumber: 'Frage {current} von {total}',
      grade: 'Klasse',
      subject: 'Fach',
      language: 'Sprache',
      answer: 'Antwort'
    },
    reviewNotification: {
      correct: 'Richtig!',
      incorrect: 'Falsch!',
      correctMessage: 'Ihre Antwort war richtig!',
      incorrectMessage: 'Ihre Antwort war falsch.'
    },
    errorBoundary: {
      title: 'Etwas ist schiefgelaufen',
      tryAgain: 'Erneut versuchen'
    },
    notificationTypes: { // Changed from 'notification' to 'notificationTypes' for consistency
      success: 'Erfolg',
      error: 'Fehler',
      warning: 'Warnung',
      info: 'Info',
      close: 'Schließen'
    },
    playerBoardDisplay: {
      show: 'Anzeigen',
      hide: 'Ausblenden'
    },
    avatarCreator: {
      title: 'Benutzerdefinierte Avatar erstellen',
      save: 'Avatar speichern',
      cancel: 'Abbrechen',
      createAvatar: 'Avatar erstellen',
      changeAvatar: 'Avatar ändern',
      avatarCreated: 'Sie haben einen benutzerdefinierten Avatar',
      faceShape: 'Gesichtsform',
      eyes: 'Augen',
      mouth: 'Mund',
      hair: 'Haar',
      accessory: 'Zusatz',
      color: 'Farbe',
      randomize: 'Zufällig',
      style: 'Stil',
      seed: 'Seed',
      seedHelp: 'Verschiedene Seeds erzeugen unterschiedliche Avatare',
      backgroundColor: 'Hintergrundfarbe',
      flip: 'Horizontal spiegeln',
      rotate: 'Drehung',
      scale: 'Größe'
    },
    joinGame: {
      title: 'Spiel beitreten',
      subtitle: 'Geben Sie den Raumcode und Ihren Namen ein, um dem Spiel beizutreten.',
      joinAsSpectator: 'Als Zuschauer beitreten',
      roomCodeLabel: 'Raumcode:',
      roomCodePlaceholder: 'Raumcode eingeben',
      playerNameLabel: 'Ihr Name:',
      playerNamePlaceholder: 'Ihren Namen eingeben',
      errorMissingFields: 'Bitte geben Sie sowohl den Raumcode als auch den Namen ein!',
      errorNotConnected: 'Nicht mit dem Server verbunden. Bitte versuchen Sie es erneut.',
      errorFailed: 'Verbindung zum Server fehlgeschlagen. Bitte versuchen Sie es erneut.',
      processing: 'Verarbeite...',
      connecting: 'Verbinde...',
      joinGame: 'Spiel beitreten',
      backToHome: 'Zurück zur Startseite',
      waitingForGM: 'Warten auf den Spielleiter',
      joinedRoom: 'Sie haben dem Raum beigetreten. Bitte warten Sie, bis der Spielleiter das Spiel startet.',
      hideLobbyCode: 'Raumcode ausblenden'
    },
    home: {
      title: 'Schulquiz-Spiel',
      subtitle: 'Teste dein Wissen mit Fragen aus dem deutschen Schulsystem (Klasse 1-13)',
      howToPlay: 'So funktioniert es',
      beGamemaster: 'Spielleiter sein',
      joinAsPlayer: 'Als Spieler beitreten',
      showAdvanced: 'Erweiterte Optionen anzeigen',
      hideAdvanced: 'Erweiterte Optionen ausblenden',
      advancedOptions: 'Erweiterte Optionen',
      resetConnection: 'Verbindung zurücksetzen',
      resetConnectionMsg: 'Verbindung zurückgesetzt. Eine neue Spieler-ID wurde für Ihre nächste Sitzung generiert.',
      resetConnectionHelp: 'Verwenden Sie dies, wenn Sie Verbindungs- oder Identifikationsprobleme haben.'
    },
    playerPage: {
      waitingForRecap: 'Warten auf die Generierung der Spielzusammenfassung...',
      gameOver: 'Spiel vorbei!',
      backToHome: 'Zurück zur Startseite',
      waitingForGM: 'Warten auf den Spielleiter, um das Spiel zu starten',
      getReady: 'Bereit machen! Das Spiel beginnt bald.',
      loadingPlayerView: 'Spieleransicht wird geladen...',
      spectatorRedirect: 'Sie sind ein Zuschauer. Sie sollten in Kürze weitergeleitet werden.',
      missingPlayerInfo: 'Fehlende Spielerinformationen.',
      otherPlayers: 'Andere Spieler',
      submitAnswer: 'Antwort einreichen',
      answerSubmitted: 'Votre réponse a été soumise',
      disconnected: 'Vous êtes actuellement déconnecté. Vos entrées sont désactivées jusqu\'à la reconnexion.',
      clearCanvas: 'Effacer le canevas',
      connectionError: 'Erreur de connexion',
      couldNotConnect: 'Impossible de se connecter au serveur de jeu. Veuillez actualiser la page pour réessayer.',
      refreshPage: 'Actualiser la page',
      disconnectedFromServer: 'Déconnecté du serveur.',
      attemptingReconnect: 'Tentative de reconnexion...',
      waitingToJoinRoom: 'En attente de rejoindre la salle. Si cela persiste, essayez d\'actualiser la page ou de vous reconnecter.',
      connectionIssue: 'Problème de connexion détecté. Vos informations de joueur peuvent ne pas être correctement enregistrées.',
      tryReconnecting: 'Essayer de se reconnecter',
      redirectingToSpectator: 'Redirection vers la vue spectateur...',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: 'Getrennt',
      attempting: 'Versuche erneut zu verbinden...',
      connectionError: 'Verbindungsfehler',
      connectionCheckInternet: 'Bitte überprüfen Sie Ihre Internetverbindung und versuchen Sie es erneut.',
      connectionRetry: 'Verbindung wiederholen',
      tryReconnecting: 'Versuchen Sie erneut zu verbinden',
      redirectingToSpectator: 'Weiterleitung zur Zuschaueransicht...'
    },
    spectatorPage: {
      gameOver: 'Spiel vorbei!',
      waitingForRecap: 'Waiting for the game recap to be generated...',
      backToHome: 'Back to Home',
      spectatorView: 'Spectator View',
      players: 'Players',
      leaveGame: 'Leave Game',
      joinAsPlayer: 'Join as Player',
      joinAsPlayerInfo: 'You can only join as a player when a round is not in progress.',
      currentQuestion: 'Current Question',
      waitingForGame: 'Waiting for game to start...',
      playerBoards: 'Player Boards',
      showAll: 'Show All',
      hideAll: 'Hide All'
    },
    theme: 'Design',
    lightMode: 'Helles Design',
    darkMode: 'Dunkles Design',
    previewOverlay: { // Added section
      showAnswer: 'Richtige Antwort anzeigen',
      showAnswerTitle: 'Die richtige Antwort allen Spielern anzeigen',
      voteCorrect: 'Richtig abstimmen',
      voteIncorrect: 'Falsch abstimmen',
      correctAnswerWas: 'Richtige Antwort war', // New key
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting'
    },
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History'
    },
    gameMasterQuestionHistory: {
      title: 'Alle Fragen & Antworten',
      question: 'Frage',
      subject: 'Fach',
      grade: 'Klasse',
      player: 'Spieler',
      answer: 'Antwort',
      result: 'Ergebnis',
      correct: 'Richtig',
      incorrect: 'Falsch',
      pending: 'Ausstehend',
      noQuestions: 'Noch keine Fragen gestellt.',
      noAnswers: 'Keine Antworten für diese Frage.',
      close: 'Schließen',
      submissionOrder: 'Einreichungsreihenfolge',
      timeTaken: 'Benötigte Zeit',
      submissionOrderTooltip: 'Die Reihenfolge, in der diese Antwort eingereicht wurde',
      timeTakenTooltip: 'Zeit, die für die Einreichung dieser Antwort benötigt wurde'
    },
    recapModal: {
      title: 'Spielzusammenfassung',
      overallResults: 'Gesamtergebnisse',
      roundDetails: 'Rundendetails',
      winners: 'Gewinner',
      participants: 'Teilnehmer',
      drawing: 'Zeichnung',
      answer: 'Antwort',
      eliminated: 'Eliminiert',
      drawingBy: 'Zeichnung von',
      noRoundData: 'Keine Rundendaten verfügbar oder ausgewählte Runde ist ungültig.',
      round: 'Runde',
      questionDetails: 'Fragendetails',
      submissions: 'Einreichungen',
      currentQuestion: 'Aktuelle Frage',
      type: 'Typ',
      pleaseWait: 'Bitte warten...',
      error: 'Fehler',
      invalidSvg: 'Fehler: Ungültiges SVG'
    },
  },
  fr: {
    settings: 'Paramètres',
    audio: 'Audio',
    language: 'Langue',
    english: 'Anglais',
    german: 'Allemand',
    french: 'Français',
    dutch: 'Néerlandais',
    polish: 'Polonais',
    chinese: 'Chinois',
    muteMusic: 'Couper la musique',
    unmuteMusic: 'Activer la musique',
    musicVolume: 'Volume de la musique',
    camera: 'Caméra',
    cameras: 'Caméras',
    cameraOff: 'Caméra désactivée',
    noCameraSelected: 'Aucune caméra sélectionnée',
    unknownCamera: 'Caméra inconnue',
    noMicrophoneSelected: 'Aucun microphone sélectionné',
    unknownMicrophone: 'Microphone inconnu',
    microphone: 'Microphone',
    selected: 'Sélectionné',
    disableWebcam: 'Désactiver la webcam',
    enableWebcam: 'Activer la webcam',
    muteMic: 'Couper le micro',
    unmuteMic: 'Activer le micro',
    mute: 'Couper',
    unmute: 'Activer',
    hideCamera: 'Masquer la caméra',
    showCamera: 'Afficher la caméra',
    changeInSettings: 'Modifier dans les paramètres',
    waitingForParticipants: 'En attente d\'autres participants...',
    selectedEnableToStart: 'sélectionnée - activez la caméra pour commencer.',
    selectCameraToStart: 'Sélectionnez une caméra dans les paramètres pour commencer.',
    gamemaster: 'Maître du jeu',
    player: 'Joueur',
    you: 'Vous',
    connectionFailed: 'Connexion échouée',
    connectionError: 'Erreur de connexion',
    connectionRetry: 'Réessayer la connexion',
    connectionCheckInternet: 'L\'application ne peut pas se connecter au serveur. Veuillez vérifier votre connexion Internet ou réessayer plus tard.',
    connectionAttempting: 'Tentative de reconnexion...',
    connectionRestored: 'Connexion restaurée avec récupération de session !',
    connectionReestablished: 'Connexion rétablie !',
    connectionErrorUnknown: 'Erreur inconnue',
    connectionReconnectFailed: 'Impossible de se reconnecter au serveur après plusieurs tentatives',
    connectionConnected: 'Connecté au serveur de jeu',
    connectionConnecting: 'Connexion au serveur de jeu...',
    connectionReconnecting: 'Reconnexion au serveur de jeu...',
    connectionDisconnected: 'Déconnecté du serveur de jeu',
    connectionFailedToReconnect: 'Échec de la reconnexion',
    connectionUnknownState: 'État de connexion inconnu',
    sessionRecovered: 'Session récupérée',
    attempt: 'Tentative {number}',
    notificationTitle: 'Notification',
    kickedFromRoom: 'Vous avez été retiré de la salle.',
    reason: 'Raison',
    noReasonProvided: 'Aucune raison fournie.',
    ok: 'OK',
    loading: 'Chargement...',
    seconds: '{seconds}s',
    question: 'Question',
    noQuestion: 'Aucune question',
    grade: 'Niveau',
    class: 'Classe',
    subject: 'Matière', // Changed from Sujet for better context
    answer: 'Réponse',
    drawingOnly: '(Dessin uniquement)',
    markAsCorrect: 'Marquer comme correct',
    markAsIncorrect: 'Marquer comme incorrect',
    correct: 'Correct',
    incorrect: 'Incorrect',
    gameRecap: 'Récapitulatif du jeu',
    room: 'Salle',
    overallResults: 'Résultats globaux',
    roundDetails: 'Détails du tour',
    gameSummary: 'Résumé du jeu',
    winner: 'Gagnant',
    congratulations: 'Félicitations à {name} pour avoir gagné le jeu !',
    gameConcluded: 'Jeu terminé',
    multiplePlayersActive: 'Le jeu s\'est terminé avec plusieurs joueurs encore actifs.',
    gameOver: 'Fin du jeu',
    allPlayersEliminated: 'Tous les joueurs ont été éliminés.',
    playerStandings: 'Classement des joueurs',
    lives: 'Vies',
    status: 'Statut',
    won: 'Gagné',
    active: 'Actif',
    eliminated: 'Éliminé',
    unknown: 'Inconnu',
    close: 'Fermer',
    drawingBy: 'Dessin de',
    noRoundData: 'Aucune donnée de tour disponible ou le tour sélectionné est invalide.',
    round: 'Tour',
    questionDetails: 'Détails de la question',
    submissions: 'Soumissions',
    currentQuestion: 'Question actuelle',
    type: 'Type',
    pleaseWait: 'Veuillez patienter...',
    error: 'Erreur',
    invalidSvg: 'Erreur : SVG invalide',
    failedToLoadJson: 'Échec du chargement des données JSON',
    svgGenerationFailed: 'Échec de la génération du SVG',
    failedToInitializeCanvas: 'Impossible d\'initialiser le canevas temporaire',
    roomSettings: {
      title: 'Paramètres de la salle',
      timeLimit: 'Limite de temps (secondes)',
      noTimeLimit: 'Pas de limite de temps',
      clear: 'Effacer',
      timeLimitHelp: 'Laissez vide ou mettez 0 pour aucune limite de temps. La valeur réelle pour aucune limite sera 99999.',
      description: 'En tant que maître du jeu, vous gérez les questions et évaluez les réponses.',
      roomCodeLabel: 'Code de la salle (optionnel) :',
      roomCodePlaceholder: 'Laisser vide pour un code aléatoire',
      roomCodeHelp: 'Vous pouvez spécifier un code de salle personnalisé ou laisser vide pour un code aléatoire.',
      streamerMode: 'Mode streamer (masquer le code de la salle)',
      streamerModeHelp: 'Lorsque activé, le code de la salle sera masqué mais toujours copiable.',
      creating: 'Création...',
      createRoom: 'Créer une salle',
      communityVotingHelp: 'Si activé, le Maître du jeu participe et les réponses sont évaluées par les votes des joueurs.',
      communityVotingMode: 'Mode de vote communautaire'
    },
    questionSelector: {
      title: 'Charger les questions depuis la base de données',
      language: 'Langue',
      subject: 'Matière',
      allSubjects: 'Toutes les matières',
      grade: 'Niveau',
      allGrades: 'Tous les niveaux',
      searchQuestions: 'Rechercher des questions',
      random: 'Aléatoire',
      randomQuestions: 'Nombre de questions aléatoires',
      availableQuestions: 'Questions disponibles',
      noQuestionsAvailable: 'Aucune question disponible. Utilisez les filtres ci-dessus pour rechercher des questions.',
      selectedQuestions: 'Questions sélectionnées',
      noQuestionsSelected: 'Aucune question sélectionnée pour le moment. Ajoutez des questions depuis le panneau de gauche.',
      sortByGrade: 'Trier par niveau',
      clearAll: 'Tout effacer',
      addToSelected: 'Ajouter aux questions sélectionnées',
      removeFromSelected: 'Retirer des questions sélectionnées',
      selectedQuestionSummary: 'Résumé des questions sélectionnées',
      totalQuestions: 'Nombre total de questions',
      gradeRange: 'Plage de niveaux',
      subjects: 'Matières',
      noQuestionsSelectedYet: 'Aucune question sélectionnée pour le moment',
      addCustomQuestion: 'Ajouter une question personnalisée',
      loading: 'Chargement...'
    },
    gameControls: {
      title: 'Contrôles du jeu',
      startGame: 'Démarrer le jeu ({players} joueurs, {questions} questions)',
      restarting: 'Redémarrage...',
      nextQuestion: 'Question suivante',
      endRoundEarly: 'Terminer le tour plus tôt',
      restartGame: 'Redémarrer le jeu',
      endRoundConfirm: 'Terminer le tour plus tôt ?',
      endRoundWarning: 'Êtes-vous sûr de vouloir terminer ce tour plus tôt ? Tous les joueurs qui n\'ont pas soumis ne recevront aucun point.',
      confirmEndRound: 'Oui, terminer le tour',
      cancel: 'Annuler',
      needPlayers: 'Il faut au moins 1 joueur actif pour commencer',
      needQuestions: 'Veuillez d\'abord sélectionner les questions',
      noQuestion: 'Aucune question en cours',
      gameConcluded: 'Le jeu est terminé',
      waitingForAnswers: 'En attente des réponses de {count} joueur(s) actif(s).',
      evaluateAnswers: 'Toutes les réponses soumises doivent être évaluées avant de continuer.',
      endGame: 'Terminer le jeu',
      showRecap: 'Afficher le récapitulatif du jeu pour tous',
      playerBoards: 'Tableaux des joueurs',
      showAll: 'Tout afficher',
      hideAll: 'Tout masquer',
      startPreview: 'Démarrer le mode aperçu',
      communityVotingMode: 'Mode de vote communautaire'
    },
    navigation: {
      leaveGame: 'Quitter le jeu',
      startGame: 'Démarrer le jeu',
      home: 'Accueil'
    },
    answerList: {
      title: 'Réponses reçues',
      noAnswers: 'Aucune réponse soumise pour ce tour pour le moment.',
      pendingEvaluation: 'En attente d\'évaluation',
      markAsCorrect: 'Marquer comme correct',
      markAsIncorrect: 'Marquer comme incorrect',
      correct: 'Correct',
      incorrect: 'Incorrect'
    },
    answerInput: {
      placeholder: 'Saisissez votre réponse ici...',
      submit: 'Soumettre la réponse',
      timeRemaining: 'Temps restant',
      autoSubmit: 'La réponse sera automatiquement soumise lorsque le temps sera écoulé !',
      submitted: 'Votre réponse a été soumise. Attendez que le maître du jeu l\'évalue.'
    },
    drawingBoard: {
      size: 'Taille',
      brush: 'Pinceau',
      color: 'Couleur',
      whiteChalk: 'Craie blanche',
      yellowChalk: 'Craie jaune',
      blueChalk: 'Craie bleue',
      redChalk: 'Craie rouge',
      greenChalk: 'Craie verte',
      pinkChalk: 'Craie rose',
      clearCanvas: 'Effacer le tableau',
      submitted: 'Dessin soumis ! Vous ne pouvez plus apporter de modifications.'
    },
    playerHeader: {
      player: 'Joueur',
      roomCode: 'Code de la salle',
      lives: 'Vies',
      volume: 'Volume',
      mute: 'Muet',
      unmute: 'Activer le son'
    },
    questionCard: {
      title: 'Question',
      questionNumber: 'Question {current} sur {total}',
      grade: 'Niveau',
      subject: 'Matière',
      language: 'Langue',
      answer: 'Réponse'
    },
    reviewNotification: {
      correct: 'Correct !',
      incorrect: 'Incorrect !',
      correctMessage: 'Votre réponse était correcte !',
      incorrectMessage: 'Votre réponse était incorrecte.'
    },
    errorBoundary: {
      title: 'Quelque chose s\'est mal passé',
      tryAgain: 'Réessayer'
    },
    notificationTypes: {
      success: 'Succès',
      error: 'Erreur',
      warning: 'Avertissement',
      info: 'Info',
      close: 'Fermer'
    },
    playerBoardDisplay: {
      show: 'Afficher',
      hide: 'Masquer'
    },
    avatarCreator: {
      title: 'Créer votre avatar',
      save: 'Sauvegarder l\'avatar',
      cancel: 'Annuler',
      createAvatar: 'Créer un avatar',
      changeAvatar: 'Changer l\'avatar',
      avatarCreated: 'Vous avez un avatar personnalisé',
      faceShape: 'Forme du visage',
      eyes: 'Yeux',
      mouth: 'Bouche',
      hair: 'Cheveux',
      accessory: 'Accessoire',
      color: 'Couleur',
      randomize: 'Aléatoire',
      style: 'Style',
      seed: 'Graine',
      seedHelp: 'Différentes graines créent différents avatars',
      backgroundColor: 'Couleur de fond',
      flip: 'Retourner horizontalement',
      rotate: 'Rotation',
      scale: 'Échelle'
    },
    joinGame: {
      title: 'Rejoindre le jeu',
      subtitle: 'Entrez le code de la salle et votre nom pour rejoindre le jeu.',
      joinAsSpectator: 'Rejoindre en tant que spectateur',
      roomCodeLabel: 'Code de la salle :',
      roomCodePlaceholder: 'Entrez le code de la salle',
      playerNameLabel: 'Votre nom :',
      playerNamePlaceholder: 'Entrez votre nom',
      errorMissingFields: 'Veuillez entrer le code de la salle et le nom du joueur !',
      errorNotConnected: 'Non connecté au serveur. Veuillez réessayer.',
      errorFailed: 'Échec de la connexion au serveur. Veuillez réessayer.',
      processing: 'Traitement...',
      connecting: 'Connexion...',
      joinGame: 'Rejoindre le jeu',
      backToHome: 'Retour à l\'accueil',
      waitingForGM: 'En attente du maître du jeu',
      joinedRoom: 'Vous avez rejoint la salle. Veuillez attendre que le maître du jeu démarre la partie.',
      hideLobbyCode: 'Masquer le code de la salle'
    },
    home: {
      title: 'Jeu de quiz scolaire',
      subtitle: 'Testez vos connaissances avec des questions du système scolaire allemand (Classe 1-13)',
      howToPlay: 'Comment jouer',
      beGamemaster: 'Être maître du jeu',
      joinAsPlayer: 'Rejoindre en tant que joueur',
      showAdvanced: 'Afficher les options avancées',
      hideAdvanced: 'Masquer les options avancées',
      advancedOptions: 'Options avancées',
      resetConnection: 'Réinitialiser la connexion',
      resetConnectionMsg: 'Connexion réinitialisée. Un nouvel ID de joueur a été généré pour votre prochaine session.',
      resetConnectionHelp: 'Utilisez ceci si vous rencontrez des problèmes de connexion ou d\'identification du joueur.'
    },
    playerPage: {
      waitingForRecap: 'En attente de la génération du récapitulatif du jeu...',
      gameOver: 'Fin du jeu !',
      backToHome: 'Retour à l\'accueil',
      waitingForGM: 'En attente du Maître du Jeu pour commencer la partie',
      getReady: 'Préparez-vous ! La partie va bientôt commencer.',
      loadingPlayerView: 'Chargement de la vue joueur...',
      spectatorRedirect: 'Vous êtes un spectateur. Vous devriez être redirigé sous peu.',
      missingPlayerInfo: 'Informations du joueur manquantes.',
      otherPlayers: 'Autres joueurs',
      submitAnswer: 'Soumettre la réponse',
      answerSubmitted: 'Votre réponse a été soumise',
      disconnected: 'Vous êtes actuellement déconnecté. Vos entrées sont désactivées jusqu\'à la reconnexion.',
      clearCanvas: 'Effacer le canevas',
      connectionError: 'Erreur de connexion',
      couldNotConnect: 'Impossible de se connecter au serveur de jeu. Veuillez actualiser la page pour réessayer.',
      refreshPage: 'Actualiser la page',
      disconnectedFromServer: 'Déconnecté du serveur.',
      attemptingReconnect: 'Tentative de reconnexion...',
      waitingToJoinRoom: 'En attente de rejoindre la salle. Si cela persiste, essayez d\'actualiser la page ou de vous reconnecter.',
      connectionIssue: 'Problème de connexion détecté. Vos informations de joueur peuvent ne pas être correctement enregistrées.',
      tryReconnecting: 'Essayer de se reconnecter',
      redirectingToSpectator: 'Redirection vers la vue spectateur...',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: 'Déconnecté',
      attempting: 'Tentative de reconnexion...',
      connectionError: 'Erreur de connexion',
      connectionCheckInternet: 'Veuillez vérifier votre connexion Internet et réessayer.',
      connectionRetry: 'Réessayer la connexion',
      tryReconnecting: 'Versuchen Sie erneut zu verbinden',
      redirectingToSpectator: 'Przekierowywanie do widoku widza...'
    },
    spectatorPage: {
      gameOver: 'Spiel vorbei!',
      waitingForRecap: 'Waiting for the game recap to be generated...',
      backToHome: 'Back to Home',
      spectatorView: 'Spectator View',
      players: 'Players',
      leaveGame: 'Leave Game',
      joinAsPlayer: 'Join as Player',
      joinAsPlayerInfo: 'You can only join as a player when a round is not in progress.',
      currentQuestion: 'Current Question',
      waitingForGame: 'Waiting for game to start...',
      playerBoards: 'Player Boards',
      showAll: 'Show All',
      hideAll: 'Hide All'
    },
    theme: 'Thème',
    lightMode: 'Mode Clair',
    darkMode: 'Mode Sombre',
    previewOverlay: { // Added section
      showAnswer: 'Afficher la bonne réponse',
      showAnswerTitle: 'Révéler la bonne réponse à tous les joueurs',
      voteCorrect: 'Voter Correct',
      voteIncorrect: 'Voter Incorrect',
      correctAnswerWas: 'La bonne réponse était', // New key
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting'
    },
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History'
    },
    gameMasterQuestionHistory: {
      title: 'Toutes les Questions & Réponses',
      question: 'Question',
      subject: 'Matière',
      grade: 'Niveau',
      player: 'Joueur',
      answer: 'Réponse',
      result: 'Résultat',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'En attente',
      noQuestions: 'Aucune question posée pour le moment.',
      noAnswers: 'Aucune réponse pour cette question.',
      close: 'Fermer',
      submissionOrder: 'Ordre de soumission',
      timeTaken: 'Temps pris',
      submissionOrderTooltip: 'L\'ordre dans lequel cette réponse a été soumise',
      timeTakenTooltip: 'Temps pris pour soumettre cette réponse'
    },
    recapModal: {
      title: 'Récapitulatif du jeu',
      overallResults: 'Résultats globaux',
      roundDetails: 'Détails du tour',
      winners: 'Gagnants',
      participants: 'Participants',
      drawing: 'Dessin',
      answer: 'Réponse',
      eliminated: 'Éliminés',
      drawingBy: 'Dessin de',
      noRoundData: 'Aucune donnée de tour disponible ou le tour sélectionné est invalide.',
      round: 'Runde',
      questionDetails: 'Détails de la question',
      submissions: 'Soumissions',
      currentQuestion: 'Question actuelle',
      type: 'Type',
      pleaseWait: 'Veuillez patienter...',
      error: 'Erreur',
      invalidSvg: 'Erreur : SVG invalide'
    },
  },
  nl: {
    settings: 'Instellingen',
    audio: 'Audio',
    language: 'Taal',
    english: 'Engels',
    german: 'Duits',
    french: 'Frans',
    dutch: 'Nederlands',
    polish: 'Pools',
    chinese: 'Chinees',
    muteMusic: 'Muziek dempen',
    unmuteMusic: 'Muziek aanzetten',
    musicVolume: 'Muziekvolume',
    camera: 'Camera',
    cameras: 'Camera\'s',
    cameraOff: 'Camera uit',
    noCameraSelected: 'Geen camera geselecteerd',
    unknownCamera: 'Onbekende camera',
    noMicrophoneSelected: 'Geen microfoon geselecteerd',
    unknownMicrophone: 'Onbekende microfoon',
    microphone: 'Microfoon',
    selected: 'Geselecteerd',
    disableWebcam: 'Webcam uitschakelen',
    enableWebcam: 'Webcam inschakelen',
    muteMic: 'Microfoon dempen',
    unmuteMic: 'Microfoon unmuten',
    mute: 'Dempen',
    unmute: 'Unmuten',
    hideCamera: 'Camera verbergen',
    showCamera: 'Camera tonen',
    changeInSettings: 'Wijzigen in instellingen',
    waitingForParticipants: 'Wachten op andere deelnemers...',
    selectedEnableToStart: 'geselecteerd - schakel camera in om te starten.',
    selectCameraToStart: 'Selecteer een camera in instellingen om te beginnen.',
    gamemaster: 'Spelleider',
    player: 'Speler',
    you: 'Jij',
    connectionFailed: 'Verbinding mislukt',
    connectionError: 'Verbindingsfout',
    connectionRetry: 'Opnieuw verbinden',
    connectionCheckInternet: 'De applicatie kan geen verbinding maken met de server. Controleer uw internetverbinding of probeer het later opnieuw.',
    connectionAttempting: 'Bezig met opnieuw verbinden...',
    connectionRestored: 'Verbinding hersteld met sessieherstel!',
    connectionReestablished: 'Verbinding hersteld!',
    connectionErrorUnknown: 'Onbekende fout',
    connectionReconnectFailed: 'Kan na meerdere pogingen geen verbinding maken met de server',
    connectionConnected: 'Verbonden met de spelserver',
    connectionConnecting: 'Verbinden met spelserver...',
    connectionReconnecting: 'Opnieuw verbinden met spelserver...',
    connectionDisconnected: 'Verbinding met spelserver verbroken',
    connectionFailedToReconnect: 'Kan niet opnieuw verbinden',
    connectionUnknownState: 'Onbekende verbindingsstatus',
    sessionRecovered: 'Sessie hersteld',
    attempt: 'Poging {number}',
    notificationTitle: 'Melding',
    kickedFromRoom: 'Je bent uit de kamer verwijderd.',
    reason: 'Reden',
    noReasonProvided: 'Geen reden opgegeven.',
    ok: 'OK',
    loading: 'Laden...',
    seconds: '{seconds}s',
    question: 'Vraag',
    noQuestion: 'Geen vraag',
    grade: 'Klas',
    class: 'Klas',
    subject: 'Vak',
    answer: 'Antwoord',
    drawingOnly: '(Alleen tekening)',
    markAsCorrect: 'Markeer als correct',
    markAsIncorrect: 'Markeer als onjuist',
    correct: 'Correct',
    incorrect: 'Onjuist',
    gameRecap: 'Speloverzicht',
    room: 'Kamer',
    overallResults: 'Algemene resultaten',
    roundDetails: 'Ronde details',
    gameSummary: 'Speloverzicht',
    winner: 'Winnaar',
    congratulations: 'Gefeliciteerd {name} met het winnen van het spel!',
    gameConcluded: 'Spel beëindigd',
    multiplePlayersActive: 'Het spel eindigde met meerdere actieve spelers.',
    gameOver: 'Spel afgelopen',
    allPlayersEliminated: 'Alle spelers zijn geëlimineerd.',
    playerStandings: 'Spelersranglijst',
    lives: 'Levens',
    status: 'Status',
    won: 'Gewonnen',
    active: 'Actief',
    eliminated: 'Uitgeschakeld',
    unknown: 'Onbekend',
    close: 'Sluiten',
    drawingBy: 'Tekening door',
    noRoundData: 'Geen rondegegevens beschikbaar of geselecteerde ronde is ongeldig.',
    round: 'Ronde',
    questionDetails: 'Vraagdetails',
    submissions: 'Inzendingen',
    currentQuestion: 'Huidige vraag',
    type: 'Type',
    pleaseWait: 'Even geduld aub...',
    error: 'Fout',
    invalidSvg: 'Fout: Ongeldige SVG',
    failedToLoadJson: 'Kan JSON-gegevens niet laden',
    svgGenerationFailed: 'SVG-generatie mislukt',
    failedToInitializeCanvas: 'Kan tijdelijk canvas niet initialiseren',
    roomSettings: {
      title: 'Kamerinstellingen',
      timeLimit: 'Tijdslimiet (seconden)',
      noTimeLimit: 'Geen tijdslimiet',
      clear: 'Wissen',
      timeLimitHelp: 'Laat leeg of stel in op 0 voor geen tijdslimiet. De werkelijke waarde voor geen limiet is 99999.',
      description: 'Als spelleider beheert u vragen en beoordeelt u antwoorden.',
      roomCodeLabel: 'Kamercode (optioneel):',
      roomCodePlaceholder: 'Laat leeg voor een willekeurige code',
      roomCodeHelp: 'U kunt een aangepaste kamercode opgeven of leeg laten voor een willekeurige code.',
      streamerMode: 'Streamermodus (verberg kamercode)',
      streamerModeHelp: 'Indien ingeschakeld, wordt de kamercode verborgen maar kan nog steeds worden gekopieerd.',
      creating: 'Aanmaken...',
      createRoom: 'Kamer aanmaken',
      communityVotingHelp: 'Indien ingeschakeld, speelt de Spelleider mee en worden antwoorden beoordeeld door stemmen van spelers.',
      communityVotingMode: 'Community Voting Modus'
    },
    questionSelector: {
      title: 'Vragen laden uit database',
      language: 'Taal',
      subject: 'Vak',
      allSubjects: 'Alle vakken',
      grade: 'Klas',
      allGrades: 'Alle klassen',
      searchQuestions: 'Vragen zoeken',
      random: 'Willekeurig',
      randomQuestions: 'Aantal willekeurige vragen',
      availableQuestions: 'Beschikbare vragen',
      noQuestionsAvailable: 'Geen vragen beschikbaar. Gebruik de filters hierboven om vragen te zoeken.',
      selectedQuestions: 'Geselecteerde vragen',
      noQuestionsSelected: 'Nog geen vragen geselecteerd. Voeg vragen toe vanuit het linkerpaneel.',
      sortByGrade: 'Sorteer op klas',
      clearAll: 'Alles wissen',
      addToSelected: 'Toevoegen aan geselecteerde vragen',
      removeFromSelected: 'Verwijderen uit geselecteerde vragen',
      selectedQuestionSummary: 'Overzicht geselecteerde vragen',
      totalQuestions: 'Totaal aantal vragen',
      gradeRange: 'Klassenbereik',
      subjects: 'Vakken',
      noQuestionsSelectedYet: 'Nog geen vragen geselecteerd',
      addCustomQuestion: 'Aangepaste vraag toevoegen',
      loading: 'Laden...'
    },
    gameControls: {
      title: 'Spelbediening',
      startGame: 'Start spel ({players} spelers, {questions} vragen)',
      restarting: 'Opnieuw starten...',
      nextQuestion: 'Volgende vraag',
      endRoundEarly: 'Ronde vroegtijdig beëindigen',
      restartGame: 'Spel opnieuw starten',
      endRoundConfirm: 'Ronde vroegtijdig beëindigen?',
      endRoundWarning: 'Weet u zeker dat u deze ronde vroegtijdig wilt beëindigen? Alle spelers die nog niet hebben ingediend, ontvangen geen punten.',
      confirmEndRound: 'Ja, ronde beëindigen',
      cancel: 'Annuleren',
      needPlayers: 'Minstens 1 actieve speler nodig om te starten',
      needQuestions: 'Selecteer eerst vragen',
      noQuestion: 'Geen huidige vraag',
      gameConcluded: 'Spel is afgelopen',
      waitingForAnswers: 'Wachten tot alle {count} actieve speler(s) antwoorden hebben ingediend.',
      evaluateAnswers: 'Alle ingediende antwoorden moeten worden beoordeeld voordat u verdergaat.',
      endGame: 'Spel beëindigen',
      showRecap: 'Speloverzicht voor iedereen tonen',
      playerBoards: 'Spelersborden',
      showAll: 'Alles tonen',
      hideAll: 'Alles verbergen',
      startPreview: 'Voorbeeldmodus starten',
      communityVotingMode: 'Community Voting Modus'
    },
    navigation: {
      leaveGame: 'Spel verlaten',
      startGame: 'Start spel',
      home: 'Home'
    },
    answerList: {
      title: 'Ontvangen antwoorden',
      noAnswers: 'Nog geen antwoorden ingediend voor deze ronde.',
      pendingEvaluation: 'In afwachting van beoordeling',
      markAsCorrect: 'Markeer als correct',
      markAsIncorrect: 'Markeer als onjuist',
      correct: 'Correct',
      incorrect: 'Onjuist'
    },
    answerInput: {
      placeholder: 'Typ hier uw antwoord...',
      submit: 'Antwoord indienen',
      timeRemaining: 'Resterende tijd',
      autoSubmit: 'Antwoord wordt automatisch ingediend als de tijd om is!',
      submitted: 'Uw antwoord is ingediend. Wacht tot de spelleider het beoordeelt.'
    },
    drawingBoard: {
      size: 'Grootte',
      brush: 'Penseel',
      color: 'Kleur',
      whiteChalk: 'Wit krijt',
      yellowChalk: 'Geel krijt',
      blueChalk: 'Blauw krijt',
      redChalk: 'Rood krijt',
      greenChalk: 'Groen krijt',
      pinkChalk: 'Roze krijt',
      clearCanvas: 'Canvas wissen',
      submitted: 'Tekening ingediend! U kunt geen verdere wijzigingen aanbrengen.'
    },
    playerHeader: {
      player: 'Speler',
      roomCode: 'Kamercode',
      lives: 'Levens',
      volume: 'Volume',
      mute: 'Dempen',
      unmute: 'Dempen opheffen'
    },
    questionCard: {
      title: 'Vraag',
      questionNumber: 'Vraag {current} van {total}',
      grade: 'Klas',
      subject: 'Vak',
      language: 'Taal',
      answer: 'Antwoord'
    },
    reviewNotification: {
      correct: 'Correct!',
      incorrect: 'Onjuist!',
      correctMessage: 'Uw antwoord was correct!',
      incorrectMessage: 'Uw antwoord was onjuist.'
    },
    errorBoundary: {
      title: 'Er is iets misgegaan',
      tryAgain: 'Probeer opnieuw'
    },
    notificationTypes: {
      success: 'Succes',
      error: 'Fout',
      warning: 'Waarschuwing',
      info: 'Info',
      close: 'Sluiten'
    },
    playerBoardDisplay: {
      show: 'Tonen',
      hide: 'Verbergen'
    },
    avatarCreator: {
      title: 'Maak je eigen avatar',
      save: 'Avatar opslaan',
      cancel: 'Annuleren',
      createAvatar: 'Avatar maken',
      changeAvatar: 'Avatar wijzigen',
      avatarCreated: 'Je hebt een aangepaste avatar',
      faceShape: 'Gezichtsformaat',
      eyes: 'Ogen',
      mouth: 'Mond',
      hair: 'Haar',
      accessory: 'Accessoire',
      color: 'Kleur',
      randomize: 'Willekeurig'
    },
    joinGame: {
      title: 'Deelnemen aan spel',
      subtitle: 'Voer de kamercode en uw naam in om deel te nemen aan het spel.',
      joinAsSpectator: 'Deelnemen als toeschouwer',
      roomCodeLabel: 'Kamercode:',
      roomCodePlaceholder: 'Voer kamercode in',
      playerNameLabel: 'Uw naam:',
      playerNamePlaceholder: 'Voer uw naam in',
      errorMissingFields: 'Voer zowel kamercode als spelersnaam in!',
      errorNotConnected: 'Niet verbonden met server. Probeer het opnieuw.',
      errorFailed: 'Kan geen verbinding maken met de server. Probeer het opnieuw.',
      processing: 'Verwerken...',
      connecting: 'Verbinden...',
      joinGame: 'Deelnemen aan spel',
      backToHome: 'Terug naar Home',
      waitingForGM: 'Wachten op spelleider',
      joinedRoom: 'U bent lid geworden van de kamer. Wacht tot de spelleider het spel start.',
      hideLobbyCode: 'Kamercode verbergen'
    },
    home: {
      title: 'School Quiz Spel',
      subtitle: 'Test je kennis met vragen uit het Duitse schoolsysteem (Klas 1-13)',
      howToPlay: 'Hoe te spelen',
      beGamemaster: 'Wees een spelleider',
      joinAsPlayer: 'Deelnemen als speler',
      showAdvanced: 'Geavanceerde opties tonen',
      hideAdvanced: 'Geavanceerde opties verbergen',
      advancedOptions: 'Geavanceerde opties',
      resetConnection: 'Verbinding resetten',
      resetConnectionMsg: 'Verbinding gereset. Er is een nieuwe speler-ID gegenereerd voor uw volgende sessie.',
      resetConnectionHelp: 'Gebruik dit als u problemen ondervindt met verbindingen of spelersidentificatie.'
    },
    playerPage: {
      waitingForRecap: 'Wachten tot het speloverzicht wordt gegenereerd...',
      gameOver: 'Spel afgelopen!',
      backToHome: 'Terug naar Home',
      waitingForGM: 'Wachten tot de spelleider het spel start',
      getReady: 'Maak je klaar! Het spel begint binnenkort.',
      loadingPlayerView: 'Spelersweergave laden...',
      spectatorRedirect: 'U bent een toeschouwer. U wordt binnenkort doorgestuurd.',
      missingPlayerInfo: 'Ontbrekende spelersinformatie.',
      otherPlayers: 'Andere spelers',
      submitAnswer: 'Prześlij odpowiedź',
      answerSubmitted: 'Twoja odpowiedź została przesłana',
      disconnected: 'Jesteś obecnie rozłączony. Twoje wprowadzanie danych jest wyłączone do czasu ponownego połączenia.',
      clearCanvas: 'Wyczyść płótno',
      connectionError: 'Błąd połączenia',
      couldNotConnect: 'Nie można połączyć się z serwerem gry. Odśwież stronę, aby spróbować ponownie.',
      refreshPage: 'Odśwież stronę',
      disconnectedFromServer: 'Rozłączono z serwerem.',
      attemptingReconnect: 'Próba ponownego połączenia...',
      waitingToJoinRoom: 'Waiting to join the room. If this persists, try refreshing the page.',
      redirectingToSpectator: 'Redirecting to spectator view...',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: 'Rozłączony',
      attempting: 'Próba ponownego połączenia...',
      connectionError: 'Błąd połączenia',
      connectionCheckInternet: 'Sprawdź połączenie internetowe i spróbuj ponownie.',
      connectionRetry: 'Ponów połączenie',
      tryReconnecting: 'Spróbuj ponownie się połączyć',
      redirectingToSpectator: 'Przekierowywanie do widoku widza...'
    },
    spectatorPage: {
      gameOver: 'Koniec gry!',
      waitingForRecap: 'Oczekiwanie na wygenerowanie podsumowania gry...',
      backToHome: 'Powrót na stronę główną',
      spectatorView: 'Widok widza',
      players: 'Gracze',
      leaveGame: 'Opuść grę',
      joinAsPlayer: 'Dołącz jako gracz',
      joinAsPlayerInfo: 'Możesz dołączyć jako gracz tylko wtedy, gdy runda nie jest w toku.',
      currentQuestion: 'Aktualne pytanie',
      waitingForGame: 'Oczekiwanie na rozpoczęcie gry...',
      playerBoards: 'Tablice graczy',
      showAll: 'Pokaż wszystko',
      hideAll: 'Ukryj wszystko'
    },
    theme: 'Motyw',
    lightMode: 'Tryb Jasny',
    darkMode: 'Tryb Ciemny',
    previewOverlay: { // Added section
      showAnswer: 'Pokaż poprawną odpowiedź',
      showAnswerTitle: 'Odkryj poprawną odpowiedź dla wszystkich graczy',
      voteCorrect: 'Głosuj Poprawnie',
      voteIncorrect: 'Głosuj Niepoprawnie',
      correctAnswerWas: 'Poprawna odpowiedź to', // New key
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting'
    },
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History'
    },
    gameMasterQuestionHistory: {
      title: 'All Questions & Answers',
      question: 'Question',
      subject: 'Subject',
      grade: 'Grade',
      player: 'Player',
      answer: 'Answer',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions asked yet.',
      noAnswers: 'No answers for this question.',
      close: 'Close',
      submissionOrder: 'Submission Order',
      timeTaken: 'Time Taken',
      submissionOrderTooltip: 'The order in which this answer was submitted',
      timeTakenTooltip: 'Time taken to submit this answer'
    },
    recapModal: {
      title: 'Speloverzicht',
      overallResults: 'Algemene resultaten',
      roundDetails: 'Ronde details',
      winners: 'Winnaars',
      participants: 'Deelnemers',
      drawing: 'Tekening',
      answer: 'Antwoord',
      eliminated: 'Uitgeschakeld',
      drawingBy: 'Tekening door',
      noRoundData: 'Geen rondegegevens beschikbaar of geselecteerde ronde is ongeldig.',
      round: 'Runde',
      questionDetails: 'Vraagdetails',
      submissions: 'Inzendingen',
      currentQuestion: 'Huidige vraag',
      type: 'Type',
      pleaseWait: 'Even geduld aub...',
      error: 'Fout',
      invalidSvg: 'Fout: Ongeldige SVG'
    },
  },
  zh: {
    settings: '设置',
    audio: '音频',
    language: '语言',
    english: '英语',
    german: '德语',
    french: '法语',
    dutch: '荷兰语',
    polish: '波兰语',
    chinese: '中文',
    muteMusic: '静音音乐',
    unmuteMusic: '开启音乐',
    musicVolume: '音乐音量',
    camera: '摄像头',
    cameras: '摄像头',
    cameraOff: '摄像头已关闭',
    noCameraSelected: '未选择摄像头',
    unknownCamera: '未知摄像头',
    noMicrophoneSelected: '未选择麦克风',
    unknownMicrophone: '未知麦克风',
    microphone: '麦克风',
    selected: '已选择',
    disableWebcam: '禁用摄像头',
    enableWebcam: '启用摄像头',
    muteMic: '麦克风静音',
    unmuteMic: '取消麦克风静音',
    mute: '静音',
    unmute: '取消静音',
    hideCamera: '隐藏摄像头',
    showCamera: '显示摄像头',
    changeInSettings: '在设置中更改',
    waitingForParticipants: '等待其他参与者...',
    selectedEnableToStart: '已选择 - 启用摄像头开始。',
    selectCameraToStart: '在设置中选择一个摄像头以开始。',
    gamemaster: '游戏管理员',
    player: '玩家',
    you: '你',
    connectionFailed: '连接失败',
    connectionError: '连接错误',
    connectionRetry: '重试连接',
    connectionCheckInternet: '应用无法连接到服务器。请检查您的互联网连接或稍后再试。',
    connectionAttempting: '正在尝试重新连接...',
    connectionRestored: '连接已恢复，恢复了会话！',
    connectionReestablished: '连接已重新建立！',
    connectionErrorUnknown: '未知错误',
    connectionReconnectFailed: '多次尝试后无法重新连接到服务器',
    connectionConnected: '已连接到游戏服务器',
    connectionConnecting: '正在连接到游戏服务器...',
    connectionReconnecting: '正在重新连接到游戏服务器...',
    connectionDisconnected: '已从游戏服务器断开连接',
    connectionFailedToReconnect: '重新连接失败',
    connectionUnknownState: '未知连接状态',
    sessionRecovered: '会话已恢复',
    attempt: '尝试 {number}',
    notificationTitle: '通知',
    kickedFromRoom: '你已被移出房间。',
    reason: '原因',
    noReasonProvided: '未提供原因。',
    ok: '确定',
    loading: '加载中...',
    seconds: '{seconds}s',
    question: '问题',
    noQuestion: '没有问题',
    grade: '年级',
    class: '班级',
    subject: '科目',
    answer: '答案',
    drawingOnly: '(仅绘图)',
    markAsCorrect: '标记为正确',
    markAsIncorrect: '标记为错误',
    correct: '正确',
    incorrect: '错误',
    gameRecap: '游戏回顾',
    room: '房间',
    overallResults: '总体结果',
    roundDetails: '回合详情',
    gameSummary: '游戏总结',
    winner: '获胜者',
    congratulations: '恭喜 {name} 赢得游戏！',
    gameConcluded: '游戏结束',
    multiplePlayersActive: '游戏结束时仍有多名玩家活跃。',
    gameOver: '游戏结束',
    allPlayersEliminated: '所有玩家均被淘汰。',
    playerStandings: '玩家排名',
    lives: '生命值',
    status: '状态',
    won: '获胜',
    active: '活跃',
    eliminated: '已淘汰',
    unknown: '未知',
    close: '关闭',
    drawingBy: '绘画者：',
    noRoundData: '没有可用的回合数据或所选回合无效。',
    round: '回合',
    questionDetails: '问题详情',
    submissions: '提交内容',
    currentQuestion: '当前问题',
    type: '类型',
    pleaseWait: '请稍候...',
    error: '错误',
    invalidSvg: '错误：无效的SVG',
    failedToLoadJson: '加载JSON数据失败',
    svgGenerationFailed: 'SVG生成失败',
    failedToInitializeCanvas: '无法初始化临时画布',
    roomSettings: {
      title: '房间设置',
      timeLimit: '时间限制（秒）',
      noTimeLimit: '无时间限制',
      clear: '清除',
      timeLimitHelp: '留空或设为0则无时间限制。无限制的实际值为99999。',
      description: '作为游戏管理员，您将管理问题并评估答案。',
      roomCodeLabel: '房间代码（可选）：',
      roomCodePlaceholder: '留空则随机生成代码',
      roomCodeHelp: '您可以指定自定义房间代码，或留空以随机生成。',
      streamerMode: '主播模式（隐藏房间代码）',
      streamerModeHelp: '启用后，房间代码将被隐藏但仍可复制。',
      creating: '创建中...',
      createRoom: '创建房间',
      communityVotingHelp: '如果启用，游戏管理员将参与游戏，答案由玩家投票评估。',
      communityVotingMode: '社区投票模式'
    },
    questionSelector: {
      title: '从数据库加载问题',
      language: '语言',
      subject: '科目',
      allSubjects: '所有科目',
      grade: '年级',
      allGrades: '所有年级',
      searchQuestions: '搜索问题',
      random: '随机',
      randomQuestions: '随机问题数量',
      availableQuestions: '可用问题',
      noQuestionsAvailable: '没有可用的问题。请使用上面的筛选器搜索问题。',
      selectedQuestions: '已选问题',
      noQuestionsSelected: '尚未选择任何问题。请从左侧面板添加问题。',
      sortByGrade: '按年级排序',
      clearAll: '全部清除',
      addToSelected: '添加到已选问题',
      removeFromSelected: '从已选问题中移除',
      selectedQuestionSummary: '已选问题摘要',
      totalQuestions: '总问题数',
      gradeRange: '年级范围',
      subjects: '科目',
      noQuestionsSelectedYet: '尚未选择任何问题',
      addCustomQuestion: '添加自定义问题',
      loading: '加载中...'
    },
    gameControls: {
      title: '游戏控制',
      startGame: '开始游戏（{players}名玩家，{questions}个问题）',
      restarting: '重新开始中...',
      nextQuestion: '下一个问题',
      endRoundEarly: '提前结束回合',
      restartGame: '重新开始游戏',
      endRoundConfirm: '确定要提前结束本回合吗？',
      endRoundWarning: '您确定要提前结束本回合吗？所有未提交的玩家将不会获得任何分数。',
      confirmEndRound: '是的，结束回合',
      cancel: '取消',
      needPlayers: '至少需要1名活跃玩家才能开始',
      needQuestions: '请先选择问题',
      noQuestion: '当前没有问题',
      gameConcluded: '游戏已结束',
      waitingForAnswers: '等待所有 {count} 名活跃玩家提交答案。',
      evaluateAnswers: '所有已提交的答案都必须评估后才能继续。',
      endGame: '结束游戏',
      showRecap: '为所有人显示游戏回顾',
      playerBoards: '玩家面板',
      showAll: '全部显示',
      hideAll: '全部隐藏',
      startPreview: '开始预览模式',
      communityVotingMode: '社区投票模式'
    },
    navigation: {
      leaveGame: '离开游戏',
      startGame: '开始游戏',
      home: '主页'
    },
    answerList: {
      title: '收到的答案',
      noAnswers: '本回合尚未提交任何答案。',
      pendingEvaluation: '待评估',
      markAsCorrect: '标记为正确',
      markAsIncorrect: '标记为错误',
      correct: '正确',
      incorrect: '错误'
    },
    answerInput: {
      placeholder: '在此输入您的答案...',
      submit: '提交答案',
      timeRemaining: '剩余时间',
      autoSubmit: '时间到后答案将自动提交！',
      submitted: '您的答案已提交。请等待游戏管理员评估。'
    },
    drawingBoard: {
      size: '大小',
      brush: '画笔',
      color: '颜色',
      whiteChalk: '白色粉笔',
      yellowChalk: '黄色粉笔',
      blueChalk: '蓝色粉笔',
      redChalk: '红色粉笔',
      greenChalk: '绿色粉笔',
      pinkChalk: '粉色粉笔',
      clearCanvas: '清空画布',
      submitted: '绘图已提交！您不能再做更改。'
    },
    playerHeader: {
      player: '玩家',
      roomCode: '房间码',
      lives: '生命',
      volume: '音量',
      mute: '静音',
      unmute: '取消静音'
    },
    questionCard: {
      title: '问题',
      questionNumber: '问题 {current} / {total}',
      grade: '年级',
      subject: '科目',
      language: '语言',
      answer: '答案'
    },
    reviewNotification: {
      correct: '正确！',
      incorrect: '错误！',
      correctMessage: '您的答案是正确的！',
      incorrectMessage: '您的答案是错误的。'
    },
    errorBoundary: {
      title: '出错了',
      tryAgain: '再试一次'
    },
    notificationTypes: {
      success: '成功',
      error: '错误',
      warning: '警告',
      info: '信息',
      close: '关闭'
    },
    playerBoardDisplay: {
      show: '显示',
      hide: '隐藏'
    },
    avatarCreator: {
      title: '创建您的头像',
      save: '保存头像',
      cancel: '取消',
      createAvatar: '创建头像',
      changeAvatar: '更改头像',
      avatarCreated: '您有一个自定义头像',
      faceShape: '脸型',
      eyes: '眼睛',
      mouth: '嘴巴',
      hair: '头发',
      accessory: '配件',
      color: '颜色',
      randomize: '随机'
    },
    joinGame: {
      title: '加入游戏',
      subtitle: '输入房间代码和您的名字以加入游戏。',
      joinAsSpectator: '作为观众加入',
      roomCodeLabel: '房间代码：',
      roomCodePlaceholder: '输入房间代码',
      playerNameLabel: '您的名字：',
      playerNamePlaceholder: '输入您的名字',
      errorMissingFields: '请输入房间代码和玩家名称！',
      errorNotConnected: '未连接到服务器。请重试。',
      errorFailed: '连接服务器失败。请重试。',
      processing: '处理中...',
      connecting: '连接中...',
      joinGame: '加入游戏',
      backToHome: '返回主页',
      waitingForGM: '等待游戏管理员',
      joinedRoom: '您已加入房间。请等待游戏管理员开始游戏。',
      hideLobbyCode: '隐藏房间代码'
    },
    home: {
      title: '学校问答游戏',
      subtitle: '通过德国学校系统（1-13年级）的问题来测试您的知识',
      howToPlay: '游戏玩法',
      beGamemaster: '成为游戏管理员',
      joinAsPlayer: '作为玩家加入',
      showAdvanced: '显示高级选项',
      hideAdvanced: '隐藏高级选项',
      advancedOptions: '高级选项',
      resetConnection: '重置连接',
      resetConnectionMsg: '连接已重置。已为您的下一个会话生成新的玩家ID。',
      resetConnectionHelp: '如果您遇到连接或玩家识别问题，请使用此选项。'
    },
    playerPage: {
      waitingForRecap: '等待生成游戏回顾...',
      gameOver: '游戏结束！',
      backToHome: '返回首页',
      waitingForGM: '等待游戏管理员开始游戏',
      getReady: '准备！游戏即将开始。',
      loadingPlayerView: '正在加载玩家视图...',
      spectatorRedirect: '您是观众。您应该很快会被重定向。',
      missingPlayerInfo: '缺少玩家信息。',
      otherPlayers: '其他玩家',
      submitAnswer: '提交答案',
      answerSubmitted: '您的答案已提交',
      disconnected: '您当前已断开连接。在重新连接之前，您的输入将被禁用。',
      clearCanvas: '清除画布',
      connectionError: '连接错误',
      couldNotConnect: '无法连接到游戏服务器。请刷新页面重试。',
      refreshPage: '刷新页面',
      disconnectedFromServer: '与服务器断开连接。',
      attemptingReconnect: '正在尝试重新连接...',
      waitingToJoinRoom: '等待加入房间。如果持续存在，请尝试刷新页面或重新连接。',
      connectionIssue: '检测到连接问题。您的玩家信息可能未正确注册。',
      tryReconnecting: '尝试重新连接',
      redirectingToSpectator: '正在重定向到观众视图...',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: '已断开连接',
      attempting: '正在尝试重新连接...',
      connectionError: '连接错误',
      connectionCheckInternet: '请检查您的网络连接并重试。',
      connectionRetry: '重试连接',
      tryReconnecting: '尝试重新连接',
      redirectingToSpectator: '正在重定向到观众视图...'
    },
    spectatorPage: {
      gameOver: '游戏结束！',
      waitingForRecap: '等待生成游戏回顾...',
      backToHome: '返回主页',
      spectatorView: '观众视图',
      players: '玩家',
      leaveGame: '离开游戏',
      joinAsPlayer: '作为玩家加入',
      joinAsPlayerInfo: '只有在回合未进行时才能作为玩家加入。',
      currentQuestion: '当前问题',
      waitingForGame: '等待游戏开始...',
      playerBoards: '玩家面板',
      showAll: '全部显示',
      hideAll: '全部隐藏'
    },
    theme: '主题',
    lightMode: '浅色模式',
    darkMode: '深色模式',
    previewOverlay: {
      showAnswer: '显示正确答案',
      showAnswerTitle: '向所有玩家显示正确答案',
      voteCorrect: '投票正确',
      voteIncorrect: '投票错误',
      correctAnswerWas: '正确答案是', // New key
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting'
    },
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History'
    },
    gameMasterQuestionHistory: {
      title: '所有问题和答案',
      question: '问题',
      subject: '科目',
      grade: '年级',
      player: '玩家',
      answer: '答案',
      result: '结果',
      correct: '正确',
      incorrect: '错误',
      pending: '待定',
      noQuestions: '尚未提出问题。',
      noAnswers: '此问题暂无答案。',
      close: '关闭',
      submissionOrder: '提交顺序',
      timeTaken: '用时',
      submissionOrderTooltip: '此答案的提交顺序',
      timeTakenTooltip: '提交此答案所需的时间'
    },
    recapModal: {
      title: '游戏回顾',
      overallResults: '总体结果',
      roundDetails: '回合详情',
      winners: '获胜者',
      participants: '参与者',
      drawing: '绘画',
      answer: '答案',
      eliminated: '被淘汰',
      drawingBy: '绘画者：',
      noRoundData: '没有可用的回合数据或所选回合无效。',
      round: '回合',
      questionDetails: '问题详情',
      submissions: '提交内容',
      currentQuestion: '当前问题',
      type: '类型',
      pleaseWait: '请稍候...',
      error: '错误',
      invalidSvg: '错误：无效的SVG'
    },
  },
  pl: {
    settings: 'Ustawienia',
    audio: 'Dźwięk',
    language: 'Język',
    english: 'Angielski',
    german: 'Niemiecki',
    french: 'Francuski',
    dutch: 'Holenderski',
    polish: 'Polski',
    chinese: 'Chiński',
    muteMusic: 'Wyciszanie muzyki',
    unmuteMusic: 'Włączanie muzyki',
    musicVolume: 'Głośność muzyki',
    camera: 'Kamera',
    cameras: 'Kamery',
    cameraOff: 'Kamera wyłączona',
    noCameraSelected: 'Nie wybrano kamery',
    unknownCamera: 'Nieznana kamera',
    noMicrophoneSelected: 'Nie wybrano mikrofonu',
    unknownMicrophone: 'Nieznany mikrofon',
    microphone: 'Mikrofon',
    selected: 'Wybrane',
    disableWebcam: 'Wyłączanie kamery',
    enableWebcam: 'Włączanie kamery',
    muteMic: 'Wyciszanie mikrofonu',
    unmuteMic: 'Włączanie mikrofonu',
    mute: 'Wyciszanie',
    unmute: 'Włączanie',
    hideCamera: 'Ukrywanie kamery',
    showCamera: 'Pokazywanie kamery',
    changeInSettings: 'Zmiana w ustawieniach',
    waitingForParticipants: 'Czekanie na innych uczestników...',
    selectedEnableToStart: 'wybrane - włącz kamerę, aby rozpocząć.',
    selectCameraToStart: 'Wybierz kamerę w ustawieniach, aby rozpocząć.',
    gamemaster: 'Główny gracz',
    player: 'Gracz',
    you: 'Ty',
    connectionFailed: 'Nie udało się połączyć',
    connectionError: 'Błąd połączenia',
    connectionRetry: 'Ponów próbę',
    connectionCheckInternet: 'Aplikacja nie może się połączyć z serwerem. Sprawdź swoje połączenie internetowe lub spróbuj ponownie później.',
    connectionAttempting: 'Próba ponownego połączenia...',
    connectionRestored: 'Połączenie przywrócone z sesją przywracania!',
    connectionReestablished: 'Połączenie przywrócone!',
    connectionErrorUnknown: 'Nieznany błąd',
    connectionReconnectFailed: 'Nie udało się połączyć z serwerem po kilku próbach',
    connectionConnected: 'Połączony z serwerem gry',
    connectionConnecting: 'Łączenie z serwerem gry...',
    connectionReconnecting: 'Ponowne łączenie z serwerem gry...',
    connectionDisconnected: 'Połączenie z serwerem gry przerwane',
    connectionFailedToReconnect: 'Nie udało się ponownie połączyć',
    connectionUnknownState: 'Nieznany stan połączenia',
    sessionRecovered: 'Sesja przywrócona',
    attempt: 'Próba {number}',
    notificationTitle: 'Powiadomienie',
    kickedFromRoom: 'Zostałeś wykluczony z pokoju.',
    reason: 'Powód',
    noReasonProvided: 'Nie podano powodu.',
    ok: 'OK',
    loading: 'Ładowanie...',
    seconds: '{seconds}s',
    question: 'Pytanie',
    noQuestion: 'Nie ma pytania',
    grade: 'Klasa',
    class: 'Klasa',
    subject: 'Przedmiot',
    answer: 'Odpowiedź',
    drawingOnly: '(Tylko rysunek)',
    markAsCorrect: 'Zaznacz jako poprawne',
    markAsIncorrect: 'Zaznacz jako niepoprawne',
    correct: 'Poprawne',
    incorrect: 'Niepoprawne',
    gameRecap: 'Podsumowanie gry',
    room: 'Pokój',
    overallResults: 'Wyniki ogólne',
    roundDetails: 'Szczegóły rundy',
    gameSummary: 'Podsumowanie gry',
    winner: 'Zwycięzca',
    congratulations: 'Gratulacje {name} za zwycięstwo w grze!',
    gameConcluded: 'Gra zakończona',
    multiplePlayersActive: 'Gra zakończyła się z wieloma aktywnymi graczami.',
    gameOver: 'Gra zakończona',
    allPlayersEliminated: 'Wszyscy gracze zostali wyeliminowani.',
    playerStandings: 'Lista graczy',
    lives: 'Życia',
    status: 'Status',
    won: 'Wygrana',
    active: 'Aktywny',
    eliminated: 'Wyeliminowany',
    unknown: 'Nieznany',
    close: 'Zamknij',
    drawingBy: 'Rysunek autorstwa',
    noRoundData: 'Nie dostępnych danych rundy lub wybrana runda jest nieprawidłowa.',
    round: 'Runda',
    questionDetails: 'Szczegóły pytania',
    submissions: 'Wysyłane odpowiedzi',
    currentQuestion: 'Bieżące pytanie',
    type: 'Typ',
    pleaseWait: 'Proszę czekać...',
    error: 'Błąd',
    invalidSvg: 'Błąd: Nieprawidłowy SVG',
    failedToLoadJson: 'Nie udało się załadować danych JSON',
    svgGenerationFailed: 'SVG-generacja nieudana',
    failedToInitializeCanvas: 'Nie można tymczasowo zainicjować canvas',
    roomSettings: {
      title: 'Ustawienia pokoju',
      timeLimit: 'Limit czasu (sekundy)',
      noTimeLimit: 'Bez limitu czasu',
      clear: 'Wyczyść',
      timeLimitHelp: 'Pozostaw puste lub ustaw na 0, aby nie było limitu czasu. Rzeczywista wartość dla braku limitu to 99999.',
      description: 'Jako główny gracz zarządzasz pytaniami i oceniasz odpowiedzi.',
      roomCodeLabel: 'Kod pokoju (opcjonalny):',
      roomCodePlaceholder: 'Pozostaw puste, aby uzyskać losowy kod',
      roomCodeHelp: 'Możesz podać niestandardowy kod pokoju lub pozostawić pusty, aby uzyskać losowy kod.',
      streamerMode: 'Tryb streamera (ukryj kod pokoju)',
      streamerModeHelp: 'Po włączeniu kod pokoju będzie ukryty, ale nadal będzie kopiujący.',
      creating: 'Tworzenie...',
      createRoom: 'Utwórz pokój',
      communityVotingHelp: 'Jeśli włączone, główny gracz bierze udział w grze i odpowiedzi są oceniane głosami graczy.',
      communityVotingMode: 'Tryb głosowania społecznościowego'
    },
    questionSelector: {
      title: 'Ładowanie pytań z bazy danych',
      language: 'Język',
      subject: 'Przedmiot',
      allSubjects: 'Wszystkie przedmioty',
      grade: 'Klasa',
      allGrades: 'Wszystkie klasy',
      searchQuestions: 'Szukaj pytań',
      random: 'Losowy',
      randomQuestions: 'Liczba losowych pytań',
      availableQuestions: 'Dostępne pytania',
      noQuestionsAvailable: 'Nie ma dostępnych pytań. Użyj filtrów powyżej, aby szukać pytań.',
      selectedQuestions: 'Wybrane pytania',
      noQuestionsSelected: 'Jeszcze nie wybrano żadnych pytań. Dodaj pytania z lewego panelu.',
      sortByGrade: 'Sortuj według klasy',
      clearAll: 'Wyczyść wszystko',
      addToSelected: 'Dodaj do wybranych pytań',
      removeFromSelected: 'Usuń z wybranych pytań',
      selectedQuestionSummary: 'Podsumowanie wybranych pytań',
      totalQuestions: 'Całkowita liczba pytań',
      gradeRange: 'Zakres klas',
      subjects: 'Przedmioty',
      noQuestionsSelectedYet: 'Jeszcze nie wybrano żadnych pytań',
      addCustomQuestion: 'Dodaj niestandardowe pytanie',
      loading: 'Ładowanie...'
    },
    gameControls: {
      title: 'System kontrolny',
      startGame: 'Rozpocznij grę ({players} graczy, {questions} pytań)',
      restarting: 'Ponowne uruchomienie...',
      nextQuestion: 'Następne pytanie',
      endRoundEarly: 'Ronda wcześniejsza zakończenia',
      restartGame: 'Rozpocznij grę od nowa',
      endRoundConfirm: 'Ronda wcześniejsza zakończenia?',
      endRoundWarning: 'Jesteś pewien, że chcesz zakończyć tę rundę wcześniej? Wszystkim graczom, którzy jeszcze nie przesłali odpowiedzi, nie zdobędą punktów.',
      confirmEndRound: 'Tak, zakończ rundę',
      cancel: 'Anuluj',
      needPlayers: 'Minimalnie 1 aktywny gracz potrzebny do rozpoczęcia',
      needQuestions: 'Najpierw wybierz pytania',
      noQuestion: 'Nie ma bieżącego pytania',
      gameConcluded: 'Gra zakończona',
      waitingForAnswers: 'Czekanie na odpowiedzi {count} aktywnych graczy.',
      evaluateAnswers: 'Wszystkie przesłane odpowiedzi muszą zostać ocenione przed kontynuowaniem.',
      endGame: 'Zakończ grę',
      showRecap: 'Pokaż podsumowanie gry dla wszystkich',
      playerBoards: 'Tablice graczy',
      showAll: 'Pokaż wszystko',
      hideAll: 'Ukryj wszystko',
      startPreview: 'Rozpocznij tryb podglądu',
      communityVotingMode: 'Tryb głosowania społecznościowego'
    },
    navigation: {
      leaveGame: 'Opuść grę',
      startGame: 'Rozpocznij grę',
      home: 'Home'
    },
    answerList: {
      title: 'Otrzymane odpowiedzi',
      noAnswers: 'Jeszcze nie przesłano żadnych odpowiedzi dla tej rundy.',
      pendingEvaluation: 'W oczekiwaniu na ocenę',
      markAsCorrect: 'Zaznacz jako poprawne',
      markAsIncorrect: 'Zaznacz jako niepoprawne',
      correct: 'Poprawne',
      incorrect: 'Niepoprawne'
    },
    answerInput: {
      placeholder: 'Wpisz tutaj swoją odpowiedź...',
      submit: 'Prześlij odpowiedź',
      timeRemaining: 'Pozostały czas',
      autoSubmit: 'Odpowiedź zostanie automatycznie przesłana, gdy upłynie czas!',
      submitted: 'Twoja odpowiedź została przesłana. Poczekaj, aż główny gracz oceni.'
    },
    drawingBoard: {
      size: 'Rozmiar',
      brush: 'Pędzel',
      color: 'Kolor',
      whiteChalk: 'Biały kredyt',
      yellowChalk: 'Żółty kredyt',
      blueChalk: 'Niebieski kredyt',
      redChalk: 'Czerwony kredyt',
      greenChalk: 'Zielony kredyt',
      pinkChalk: 'Różowy kredyt',
      clearCanvas: 'Wyczyść płótno',
      submitted: 'Rysunek wysłany! Nie możesz już wprowadzać zmian.'
    },
    playerHeader: {
      player: 'Gracz',
      roomCode: 'Kod pokoju',
      lives: 'Życia',
      volume: 'Głośność',
      mute: 'Wyciszanie',
      unmute: 'Włączanie dźwięku'
    },
    questionCard: {
      title: 'Pytanie',
      questionNumber: 'Pytanie {current} z {total}',
      grade: 'Klasa',
      subject: 'Przedmiot',
      language: 'Język',
      answer: 'Odpowiedź'
    },
    reviewNotification: {
      correct: 'Poprawne!',
      incorrect: 'Niepoprawne!',
      correctMessage: 'Twoja odpowiedź była poprawna!',
      incorrectMessage: 'Twoja odpowiedź była niepoprawna.'
    },
    errorBoundary: {
      title: 'Coś poszło nie tak',
      tryAgain: 'Spróbuj ponownie'
    },
    notificationTypes: {
      success: 'Sukces',
      error: 'Błąd',
      warning: 'Ostrzeżenie',
      info: 'Informacja',
      close: 'Zamknij'
    },
    playerBoardDisplay: {
      show: 'Pokazywanie',
      hide: 'Ukrywanie'
    },
    avatarCreator: {
      title: 'Stwórz własnego avatar',
      save: 'Zapisz avatar',
      cancel: 'Anuluj',
      createAvatar: 'Stwórz avatar',
      changeAvatar: 'Zmień avatar',
      avatarCreated: 'Masz niestandardowego avatar',
      faceShape: 'Kształt twarzy',
      eyes: 'Oczy',
      mouth: 'Usta',
      hair: 'Włosy',
      accessory: 'Dodatki',
      color: 'Kolor',
      randomize: 'Losowo'
    },
    joinGame: {
      title: 'Dołącz do gry',
      subtitle: 'Wprowadź kod pokoju i swoje imię, aby dołączyć do gry.',
      joinAsSpectator: 'Dołącz jako widz',
      roomCodeLabel: 'Kamercode:',
      roomCodePlaceholder: 'Wprowadź kod pokoju',
      playerNameLabel: 'Twoje imię:',
      playerNamePlaceholder: 'Wprowadź swoje imię',
      errorMissingFields: 'Wprowadź zarówno kod pokoju, jak i nazwę gracza!',
      errorNotConnected: 'Nie połączono z serwerem. Spróbuj ponownie.',
      errorFailed: 'Nie udało się połączyć z serwerem. Spróbuj ponownie.',
      processing: 'Przetwarzanie...',
      connecting: 'Łączenie...',
      joinGame: 'Dołącz do gry',
      backToHome: 'Powrót do Home',
      waitingForGM: 'Czekanie na głównego gracza',
      joinedRoom: 'Dołączono do pokoju. Poczekaj, aż główny gracz rozpocznie grę.',
      hideLobbyCode: 'Ukryj kod pokoju'
    },
    home: {
      title: 'Quiz szkolny',
      subtitle: 'Przetestuj swoją wiedzę z pytaniami z systemu szkolnego Niemiec (Klasa 1-13)',
      howToPlay: 'Jak grać',
      beGamemaster: 'Bądź głównym graczem',
      joinAsPlayer: 'Dołącz jako gracz',
      showAdvanced: 'Pokaż zaawansowane opcje',
      hideAdvanced: 'Ukryj zaawansowane opcje',
      advancedOptions: 'Zaawansowane opcje',
      resetConnection: 'Zresetuj połączenie',
      resetConnectionMsg: 'Połączenie zresetowane. Nowy identyfikator gracza został wygenerowany dla Twojej następnej sesji.',
      resetConnectionHelp: 'Użyj tego, jeśli masz problemy z połączeniem lub identyfikacją gracza.'
    },
    playerPage: {
      waitingForRecap: 'Czekanie na generowanie podsumowania gry...',
      gameOver: 'Gra zakończona!',
      backToHome: 'Powrót do Home',
      waitingForGM: 'Czekanie na głównego gracza, aby rozpocząć grę',
      getReady: 'Przygotuj się! Gra zacznie się wkrótce.',
      loadingPlayerView: 'Ładowanie widoku gracza...',
      spectatorRedirect: 'Jesteś widzem. Wkrótce zostaniesz przekierowany.',
      missingPlayerInfo: 'Brakująca informacja o graczu.',
      otherPlayers: 'Inni gracze',
      submitAnswer: 'Prześlij odpowiedź',
      disconnected: 'Jesteś obecnie rozłączony. Twoje wprowadzanie danych jest wyłączone do czasu ponownego połączenia.',
      clearCanvas: 'Wyczyść płótno',
      connectionError: 'Błąd połączenia',
      couldNotConnect: 'Nie można połączyć się z serwerem gry. Odśwież stronę, aby spróbować ponownie.',
      refreshPage: 'Odśwież stronę',
      disconnectedFromServer: 'Rozłączono z serwerem.',
      attemptingReconnect: 'Próba ponownego połączenia...',
      waitingToJoinRoom: 'Waiting to join the room. If this persists, try refreshing the page.',
      redirectingToSpectator: 'Redirecting to spectator view...',
      answerSubmitted: 'Twoja odpowiedź została przesłana',
      reopenVoting: 'Re-open Voting Screen'
    },
    connection: {
      disconnected: 'Rozłączony',
      attempting: 'Próba ponownego połączenia...',
      connectionError: 'Błąd połączenia',
      connectionCheckInternet: 'Sprawdź połączenie internetowe i spróbuj ponownie.',
      connectionRetry: 'Ponów połączenie',
      tryReconnecting: 'Spróbuj ponownie się połączyć',
      redirectingToSpectator: 'Przekierowywanie do widoku widza...'
    },
    spectatorPage: {
      gameOver: 'Koniec gry!',
      waitingForRecap: 'Oczekiwanie na wygenerowanie podsumowania gry...',
      backToHome: 'Powrót na stronę główną',
      spectatorView: 'Widok widza',
      players: 'Gracze',
      leaveGame: 'Opuść grę',
      joinAsPlayer: 'Dołącz jako gracz',
      joinAsPlayerInfo: 'Możesz dołączyć jako gracz tylko wtedy, gdy runda nie jest w toku.',
      currentQuestion: 'Aktualne pytanie',
      waitingForGame: 'Oczekiwanie na rozpoczęcie gry...',
      playerBoards: 'Tablice graczy',
      showAll: 'Pokaż wszystko',
      hideAll: 'Ukryj wszystko'
    },
    theme: 'Motyw',
    lightMode: 'Tryb Jasny',
    darkMode: 'Tryb Ciemny',
    previewOverlay: { // Added section
      showAnswer: 'Pokaż poprawną odpowiedź',
      showAnswerTitle: 'Odkryj poprawną odpowiedź dla wszystkich graczy',
      voteCorrect: 'Głosuj Poprawnie',
      voteIncorrect: 'Głosuj Niepoprawnie',
      correctAnswerWas: 'Poprawna odpowiedź to', // New key
      title: 'Preview Mode',
      close: 'Close Preview',
      cannotVoteOwn: 'You cannot vote for your own answer',
      forceEndVoting: 'Force End Voting'
    },
    questionHistory: {
      title: 'Question History',
      question: 'Question',
      yourAnswer: 'Your Answer',
      correctAnswer: 'Correct Answer',
      subject: 'Subject',
      grade: 'Grade',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions answered yet.',
      close: 'Close',
      view: 'View Question History'
    },
    gameMasterQuestionHistory: {
      title: 'All Questions & Answers',
      question: 'Question',
      subject: 'Subject',
      grade: 'Grade',
      player: 'Player',
      answer: 'Answer',
      result: 'Result',
      correct: 'Correct',
      incorrect: 'Incorrect',
      pending: 'Pending',
      noQuestions: 'No questions asked yet.',
      noAnswers: 'No answers for this question.',
      close: 'Close',
      submissionOrder: 'Submission Order',
      timeTaken: 'Time Taken',
      submissionOrderTooltip: 'The order in which this answer was submitted',
      timeTakenTooltip: 'Time taken to submit this answer'
    },
    recapModal: {
      title: 'Podsumowanie gry',
      overallResults: 'Wyniki ogólne',
      roundDetails: 'Szczegóły rundy',
      winners: 'Zwycięzcy',
      participants: 'Uczestnicy',
      drawing: 'Rysunek',
      answer: 'Odpowiedź',
      eliminated: 'Wyeliminowani',
      drawingBy: 'Rysowanie przez',
      noRoundData: 'Nie dostępnych danych rundy lub wybrana runda jest nieprawidłowa.',
      round: 'Runda',
      questionDetails: 'Szczegóły pytania',
      submissions: 'Wysyłane odpowiedzi',
      currentQuestion: 'Aktualne pytanie',
      type: 'Typ',
      pleaseWait: 'Proszę czekać...',
      error: 'Błąd',
      invalidSvg: 'Błąd: Nieprawidłowy SVG'
    },
  },
};

export function t(key: string, lang: string, params?: { [key: string]: any }): string {
  const keys = key.split('.');
  let value: any = translations[lang] || translations['en'];

  for (const k of keys) {
    if (value && typeof value === 'object' && value[k] !== undefined) { // Check for undefined explicitly
      value = value[k];
    } else {
      // Fallback to English if key is not found in the current language, then split again
      let अंग्रेजीValue: any = translations['en'];
      for (const ek of keys) {
          if (अंग्रेजीValue && typeof अंग्रेजीValue === 'object' && अंग्रेजीValue[ek] !== undefined) {
            अंग्रेजीValue = अंग्रेजीValue[ek];
          } else {
            return key; // Return the key itself if not found even in English
          }
      }
      value = अंग्रेजीValue;
      break; // Found in English, break from loop
    }
  }

  if (typeof value === 'string') {
    if (params) {
      return value.replace(/\{(\w+)\}/g, (match, pKey) => { // Changed variable name from key to pKey
        return params[pKey] !== undefined ? params[pKey] : match;
      });
    }
    return value;
  }
  return key; // Return key if the final value is not a string (e.g. if a path to an object was given)
}

export { translations, howToPlayList_en, howToPlayList_de, howToPlayList_fr, howToPlayList_nl, howToPlayList_pl, howToPlayList_zh };